<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="2.%20bzImage生成过程_files/filelist.xml">
<title>make bzImage : /top/Makefile</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>shengh</o:Author>
  <o:LastAuthor>shengh</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>2332</o:TotalTime>
  <o:Created>2017-12-18T01:21:00Z</o:Created>
  <o:LastSaved>2017-12-18T01:21:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>3126</o:Words>
  <o:Characters>17823</o:Characters>
  <o:Company>lenovo</o:Company>
  <o:Lines>148</o:Lines>
  <o:Paragraphs>41</o:Paragraphs>
  <o:CharactersWithSpaces>20908</o:CharactersWithSpaces>
  <o:Version>16.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:TargetScreenSize>800x600</o:TargetScreenSize>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="2.%20bzImage生成过程_files/themedata.thmx">
<link rel=colorSchemeMapping
href="2.%20bzImage生成过程_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:UseWord2010TableStyleRules/>
   <w:DontGrowAutofit/>
   <w:DontUseIndentAsNumberingTabStop/>
   <w:FELineBreak11/>
   <w:WW11IndentRules/>
   <w:DontAutofitConstrainedTables/>
   <w:AutofitLikeWW11/>
   <w:HangulWidthLikeWW11/>
   <w:UseNormalStyleForList/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" LatentStyleCount="375">
  <w:LsdException Locked="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   UnhideWhenUsed="true" Name="Mention"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   UnhideWhenUsed="true" Name="Smart Hyperlink"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   UnhideWhenUsed="true" Name="Hashtag"/>
  <w:LsdException Locked="false" Priority="99" SemiHidden="true"
   UnhideWhenUsed="true" Name="Unresolved Mention"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:\BC14\D0D5;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:\B3CB\C6C0;
	mso-font-charset:129;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Courier Std";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-alt:黑体;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:"\@Batang";
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:"\@Dotum";
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-charset:129;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:"\@Courier Std";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:1 135135232 16 0 262144 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
h1
	{mso-style-name:"Heading 1\,heading 1";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:"Normal Indent";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:21.25pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-21.25pt;
	mso-line-height-alt:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l14 level1 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:18.0pt;
	mso-bidi-font-size:22.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:黑体;
	mso-font-kerning:0pt;
	layout-grid-mode:line;}
h2
	{mso-style-name:"Heading 2\,heading 2";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:"Normal Indent";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:49.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-49.6pt;
	mso-line-height-alt:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l14 level2 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:14.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
h3
	{mso-style-name:"Heading 3\,heading 3";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:"Normal Indent";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:70.9pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-70.9pt;
	line-height:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l14 level3 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
h4
	{mso-style-name:"Heading 4\,heading 4";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-next:"Normal Indent";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:99.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-79.35pt;
	line-height:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l14 level4 lfo1;
	layout-grid-mode:char;
	font-size:12.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:宋体;
	mso-font-kerning:1.0pt;
	mso-bidi-font-weight:normal;}
p.MsoNormalIndent, li.MsoNormalIndent, div.MsoNormalIndent
	{mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	border:none;
	mso-border-bottom-alt:solid windowtext .75pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
a:link, span.MsoHyperlink
	{mso-style-unhide:no;
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-unhide:no;
	color:#954F72;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	background:navy;
	font-size:10.5pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
p.Default, li.Default, div.Default
	{mso-style-name:Default;
	mso-style-unhide:no;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:12.0pt;
	font-family:"Courier Std";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Courier Std";
	color:black;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-fareast-font-family:宋体;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;
	mso-footnote-separator:url("2.%20bzImage生成过程_files/header.htm") fs;
	mso-footnote-continuation-separator:url("2.%20bzImage生成过程_files/header.htm") fcs;
	mso-endnote-separator:url("2.%20bzImage生成过程_files/header.htm") es;
	mso-endnote-continuation-separator:url("2.%20bzImage生成过程_files/header.htm") ecs;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 55.3pt 72.0pt 54.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-header:url("2.%20bzImage生成过程_files/header.htm") h1;
	mso-even-footer:url("2.%20bzImage生成过程_files/header.htm") ef1;
	mso-footer:url("2.%20bzImage生成过程_files/header.htm") f1;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 @list l0
	{mso-list-id:28648843;
	mso-list-type:hybrid;
	mso-list-template-ids:92295744 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l0:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l0:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l0:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l0:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l0:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l0:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l0:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l0:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l1
	{mso-list-id:28798303;
	mso-list-type:hybrid;
	mso-list-template-ids:1138233144 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l1:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l1:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l1:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l1:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l1:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l1:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l1:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l1:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l2
	{mso-list-id:139227180;
	mso-list-type:hybrid;
	mso-list-template-ids:325248418 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l2:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l2:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l2:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l2:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l2:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l2:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l2:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l2:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l2:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l3
	{mso-list-id:254755099;
	mso-list-type:hybrid;
	mso-list-template-ids:-521224042 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l3:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l3:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l3:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l3:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l3:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l3:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l3:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l3:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l3:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l4
	{mso-list-id:404304692;
	mso-list-type:hybrid;
	mso-list-template-ids:137010376 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l4:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l4:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l4:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l4:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l4:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l4:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l4:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l4:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l4:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l5
	{mso-list-id:572935675;
	mso-list-type:hybrid;
	mso-list-template-ids:-1509890592 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l5:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l5:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l5:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l5:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l5:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l5:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l5:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l5:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l5:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l6
	{mso-list-id:671295166;
	mso-list-type:hybrid;
	mso-list-template-ids:-339992398 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l6:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l6:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l6:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l6:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l6:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l6:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l6:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l6:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l6:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l7
	{mso-list-id:891959105;
	mso-list-type:hybrid;
	mso-list-template-ids:-785489746 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l7:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l7:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l7:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l7:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l7:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l7:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l7:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l7:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l7:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l8
	{mso-list-id:912352008;
	mso-list-type:hybrid;
	mso-list-template-ids:-571957772 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l8:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l8:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l8:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l8:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l8:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l8:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l8:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l8:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l8:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l9
	{mso-list-id:1322077926;
	mso-list-type:hybrid;
	mso-list-template-ids:998009838 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l9:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l9:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l9:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l9:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l9:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l9:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l9:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l9:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l9:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l10
	{mso-list-id:1359164308;
	mso-list-type:hybrid;
	mso-list-template-ids:159143734 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l10:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l10:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l10:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l10:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l10:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l10:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l10:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l10:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l10:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l11
	{mso-list-id:1380400659;
	mso-list-type:hybrid;
	mso-list-template-ids:-194221426 1214172022 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l11:level1
	{mso-level-text:%1、;
	mso-level-tab-stop:28.5pt;
	mso-level-number-position:left;
	margin-left:28.5pt;
	text-indent:-18.0pt;}
@list l11:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:52.5pt;
	mso-level-number-position:left;
	margin-left:52.5pt;
	text-indent:-21.0pt;}
@list l11:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:73.5pt;
	mso-level-number-position:right;
	margin-left:73.5pt;
	text-indent:-21.0pt;}
@list l11:level4
	{mso-level-tab-stop:94.5pt;
	mso-level-number-position:left;
	margin-left:94.5pt;
	text-indent:-21.0pt;}
@list l11:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:115.5pt;
	mso-level-number-position:left;
	margin-left:115.5pt;
	text-indent:-21.0pt;}
@list l11:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:136.5pt;
	mso-level-number-position:right;
	margin-left:136.5pt;
	text-indent:-21.0pt;}
@list l11:level7
	{mso-level-tab-stop:157.5pt;
	mso-level-number-position:left;
	margin-left:157.5pt;
	text-indent:-21.0pt;}
@list l11:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:178.5pt;
	mso-level-number-position:left;
	margin-left:178.5pt;
	text-indent:-21.0pt;}
@list l11:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:199.5pt;
	mso-level-number-position:right;
	margin-left:199.5pt;
	text-indent:-21.0pt;}
@list l12
	{mso-list-id:1405107685;
	mso-list-type:hybrid;
	mso-list-template-ids:1803817504 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l12:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:21.0pt;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F075;
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level5
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level6
	{mso-level-number-format:bullet;
	mso-level-text:\F075;
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level7
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level8
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l12:level9
	{mso-level-number-format:bullet;
	mso-level-text:\F075;
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l13
	{mso-list-id:1753161169;
	mso-list-type:hybrid;
	mso-list-template-ids:1181485048 67698703 135403572 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l13:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l13:level2
	{mso-level-text:%2、;
	mso-level-tab-stop:78.75pt;
	mso-level-number-position:left;
	margin-left:78.75pt;
	text-indent:-36.75pt;}
@list l13:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l13:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l13:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l13:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l13:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l13:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l13:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l14
	{mso-list-id:1803646617;
	mso-list-template-ids:87981124;}
@list l14:level1
	{mso-level-style-link:"Heading 1";
	mso-level-suffix:space;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.25pt;
	text-indent:-21.25pt;}
@list l14:level2
	{mso-level-style-link:"Heading 2";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:49.6pt;
	text-indent:-49.6pt;}
@list l14:level3
	{mso-level-style-link:"Heading 3";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:70.9pt;
	text-indent:-70.9pt;}
@list l14:level4
	{mso-level-style-link:"Heading 4";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:99.2pt;
	text-indent:-79.35pt;}
@list l14:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:139.05pt;
	mso-level-number-position:left;
	margin-left:127.55pt;
	text-indent:-42.5pt;}
@list l14:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:163.0pt;
	mso-level-number-position:left;
	margin-left:163.0pt;
	text-indent:-2.0cm;}
@list l14:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:199.55pt;
	mso-level-number-position:left;
	margin-left:191.35pt;
	text-indent:-63.8pt;}
@list l14:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:238.8pt;
	mso-level-number-position:left;
	margin-left:219.7pt;
	text-indent:-70.9pt;}
@list l14:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:255.1pt;
	mso-level-number-position:left;
	margin-left:255.1pt;
	text-indent:-85.0pt;}
@list l15
	{mso-list-id:1970622890;
	mso-list-type:hybrid;
	mso-list-template-ids:-1271080836 184813684 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l15:level1
	{mso-level-text:%1、;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l15:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l15:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l15:level4
	{mso-level-tab-stop:84.0pt;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l15:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l15:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l15:level7
	{mso-level-tab-stop:147.0pt;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l15:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l15:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l16
	{mso-list-id:1992827655;
	mso-list-type:hybrid;
	mso-list-template-ids:-672473994 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l16:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l16:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l16:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l16:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l16:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l16:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l16:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l16:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l16:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l17
	{mso-list-id:2113351888;
	mso-list-type:hybrid;
	mso-list-template-ids:-1808995008 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l17:level1
	{mso-level-tab-stop:42.0pt;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l17:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:63.0pt;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l17:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:84.0pt;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l17:level4
	{mso-level-tab-stop:105.0pt;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l17:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:126.0pt;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l17:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:147.0pt;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l17:level7
	{mso-level-tab-stop:168.0pt;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l17:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:189.0pt;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l17:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:210.0pt;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l14:level1 lfo3
	{mso-level-start-at:6;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-unhide:no;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-unhide:no;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink="#954F72" style='tab-interval:21.0pt;
text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<h1 style='mso-list:l14 level1 lfo1'><![if !supportLists]>
bzImage生成过程详细分析</h1>

frank_seng(frank_seng@163.com)
<h1 style='mso-list:l14 level1 lfo1'><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1
  </span></span>
    <![endif]>
  <span lang=ZH-CN style='font-family:黑体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>找到执行目标</span>bzImage</h1>
<h2 style='mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>1.1 </span></span><![endif]>make bzImage →
/top/Makefile</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>ARCH
  := $(shell uname -m | sed -e s/i.86/i386/ -e s/sun4u/sparc64/ -e s/arm.*/arm/
  -e s/sa110/arm/)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>include
  arch/$(ARCH)/Makefile</span><b style='mso-bidi-font-weight:normal'><span
  style='font-size:9.0pt;font-family:"Dotum",sans-serif;mso-fareast-font-family:
  宋体;background:blue;mso-highlight:blue'><o:p></o:p></span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>注解：对于</span><span style='font-size:
9.0pt'>386</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>架构而言，</span><span style='font-size:
9.0pt'>ARCH</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>将会被展开成</span><span style='font-size:
9.0pt'>i386</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，由于</span><span style='font-size:9.0pt'>bzImage</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目标在当前的</span><span
style='font-size:9.0pt'>Makefile</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中并未找到，因此会到该</span><span
style='font-size:9.0pt'>Makefile</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中包含的子</span><span
style='font-size:9.0pt'>Makefile</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中寻找，而</span><span
style='font-size:9.0pt'>/top/arch/i386/Makefile</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中包含了</span><span
style='font-size:9.0pt'>bzImage</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目标，故最终会跳到那里去执行。</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<h2 style='mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>1.2 </span></span><![endif]>make bzImage → /top/Makefile
→ /top/arch/i386/Makefile → bzImage</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>MAKEBOOT
  = $(MAKE) -C arch/$(ARCH)/boot<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>vmlinux:
  arch/i386/vmlinux.lds<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bzImage:
  vmlinux<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>@$(MAKEBOOT) bzImage<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>注解：在这里</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>make bzImage</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>才得以被执行，注意这里表要依靠目标</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，同时给目标</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>增加</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>脚本</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>arch/i386/vmlinux.lds</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>定义在</span><b
style='mso-bidi-font-weight:normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>/top/Makefile</span></u></b><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中，当</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>完全生成后，才会执行下面的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>@$(MAKEBOOT) bzImage</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l14 level1 lfo1;tab-stops:
list 18.0pt'><![if !supportLists]><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>2 </span></span><![endif]>vmlinux<span lang=ZH-CN
style='font-family:黑体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的生成</span></h1>

<h2 style='mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>2.1 </span></span><![endif]>make bzImage → /top/Makefile
→ vmlinux</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>vmlinux:
  $(CONFIGURATION) init/main.o init/version.o linuxsubdirs<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(LD)
  $(LINKFLAGS) $(HEAD) init/main.o init/version.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--start-group
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(CORE_FILES)
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(DRIVERS)
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(NETWORKS)
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(LIBS)
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--end-group
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-o
  vmlinux<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>注解：这里</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>CONFIGURATION</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>没有用，在使用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>当前条件下可以认为未定义，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>在碰到该未定义关键字时自动略过。而回到这里的时候，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的依赖已经变成了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$(CONFIGURATION) init/main.o
init/version.o linuxsubdirs arch/i386/vmlinux.lds </span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>至于其他的定义，分别如下：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CROSS_COMPILE
  <span style='mso-tab-count:1'>&nbsp;&nbsp; </span>=<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>TOPDIR<span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>:= $(shell if [
  &quot;$$PWD&quot; != &quot;&quot; ]; then echo $$PWD; else pwd; fi) <o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>LD<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
  $(CROSS_COMPILE)ld<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CC<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
  $(CROSS_COMPILE)gcc<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CORE_FILES<span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>=kernel/kernel.o
  mm/mm.o fs/fs.o ipc/ipc.o</span><span lang=ZH-CN style='font-size:9.0pt;
  font-family:"Batang",serif;mso-ascii-font-family:"Times New Roman";
  mso-hansi-font-family:"Times New Roman"'>（注意和下面对</span><span
  style='font-size:9.0pt;mso-fareast-font-family:Batang'>CORE_FILES</span><span
  lang=ZH-CN style='font-size:9.0pt;font-family:"Batang",serif;mso-ascii-font-family:
  "Times New Roman";mso-hansi-font-family:"Times New Roman"'>的扩展）</span><span
  style='font-size:9.0pt;mso-fareast-font-family:Batang'><o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>SUBDIRS<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=kernel
  drivers mm fs net ipc lib<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:9.0pt;font-family:"Dotum",sans-serif;mso-fareast-font-family:
宋体;color:#CCFFFF;background:blue;mso-highlight:blue'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>另外在经过</span><b style='mso-bidi-font-weight:
normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/arch/i386/Makefile</span></u></b><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>之后：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>LD=$(CROSS_COMPILE)ld
  -m elf_i386<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>OBJCOPY=$(CROSS_COMPILE)objcopy
  -O binary -R .note -R .comment -S<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>LDFLAGS=-e
  stext<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>LINKFLAGS
  =-T $(TOPDIR)/arch/i386/vmlinux.lds $(LDFLAGS)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>vmlinux:
  arch/i386/vmlinux.lds<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>HEAD
  := arch/i386/kernel/head.o arch/i386/kernel/init_task.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>SUBDIRS
  += arch/i386/kernel arch/i386/mm arch/i386/lib<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>可见这些变量定义已经被找到，同时</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>LD</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>以及</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>OBJCOPY</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>还被重新定义，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>增加了依赖。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>init/version.o:
  init/version.c include/linux/compile.h include/config/MARKER<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(CC)
  $(CFLAGS) $(CFLAGS_KERNEL) -DUTS_MACHINE='&quot;$(ARCH)&quot;' -c -o
  init/version.o init/version.c<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>init/main.o:
  init/main.c include/config/MARKER<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(CC)
  $(CFLAGS) $(CFLAGS_KERNEL) $(PROFILING) -c -o $*.o $&lt;<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.1.1
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关键点一：</span>DRIVERS</h3>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里关于</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>DRIVERS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>需要特殊说明下，从</span><b
style='mso-bidi-font-weight:normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>/top/Makefile</span></u></b><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中可知：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>ifeq
  (.config,$(wildcard .config))<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>include
  .config<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>endif<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>DRIVERS-y
  :=<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>DRIVERS<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=drivers/block/block.o
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  style='mso-spacerun:yes'>&nbsp;</span>drivers/char/char.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  style='mso-spacerun:yes'>&nbsp;</span>drivers/misc/misc.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  style='mso-spacerun:yes'>&nbsp;</span>drivers/net/net.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  style='mso-spacerun:yes'>&nbsp;</span>drivers/media/media.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>DRIVERS-$(CONFIG_PARPORT)
  += drivers/parport/driver.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>…….<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>DRIVERS-$(CONFIG_DRM)
  += drivers/char/drm/drm.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>DRIVERS
  += $(DRIVERS-y)<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里的首先解释下</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>ifeq (.config,$(wildcard .config)) </span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$(wildcard .config)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>表示</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>wildcard</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>函数，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>是该函数的参数，这个函数表示当前目录下是否存在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件，如果存在就返回</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，如果不存在就返回空，一般情况下，我们在编译内核的时候，都会首先执行</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make menuconfig</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>然后</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>save</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这时候就会在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下生成一个</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件，因此当</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>走到此处的时候，该条件为真，也就是将会</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>include .config </span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件中的内容一般如下：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>…..<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CONFIG_PARPORT
  =y<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CONFIG_DRM
  =y<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>…..<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>也就是我们在</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>make menuconfig</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中选择某个选项的时候，相应的变量例如</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CONFIG_X86_BSWAP</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的值就被设置成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>y</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，而在前面</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/Makefile</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS-y:</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>则会依据这些宏定义而不断地增加需要编译的对象，例如</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS-$(CONFIG_PARPORT) +=
drivers/parport/driver.o</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>就表示，如果</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CONFIG_PARPORT=y</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，也就是我们在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make menuconfig</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的时候，选择了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>parport</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，则</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将会设置</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CONFIG_PARPORT =y</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/Makefile</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中又包含了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，因此</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS-$(CONFIG_PARPORT) +=
drivers/parport/driver.o</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>就被扩展成：</span><span
lang=ZH-CN style='font-size:9.0pt;mso-hansi-font-family:宋体'> </span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS-y += drivers/parport/driver.o</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。如果没选择</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>parport</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，则就被扩展成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS- += drivers/parport/driver.o</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS-</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Makefile</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中时不会用到的，但是从</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS += $(DRIVERS-y)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>可知，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVER-y</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>是被合并到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中的，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>又被</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>所使用，故最终将会将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>drivers/parport/driver.o</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>编译到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中去的。至于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>NETWORKS</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>LIBS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DRIVERS</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>类似，这里就不再详叙。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.1.2
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关键点二：</span>linuxsubdirs</h3>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>关于</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>linuxsubdirs</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>其最后的展开就是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make -C </span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>所有的子目录</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>SUBDIRS=kernel drivers mm fs
net ipc lib</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>（也是在</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>/top/Makefile</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中定义的），而其在编译每个子目录的时候，子目录决定是否编译相应的对象文件也是依赖于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.config</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中的类似</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CONFIG_PARPORT =y</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的定义。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.1.3
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关键点三：关于</span>--start-group
ARCHIVES --end-group</h3>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>ARCHIVES</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>为一系列的对象文件，所有的这些对象中的符号引用将会共享。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>The
ARCHIVES should be a list of archive files.<span
style='mso-spacerun:yes'>&nbsp; </span>They may be either explicit file names,
or `-l' options. The specified archives are searched repeatedly until no new undefined
references are created.<span style='mso-spacerun:yes'>&nbsp; </span>Normally,
an archive is searched only once in the order that it is specified on the command
line.<span style='mso-spacerun:yes'>&nbsp; </span>If a symbol in that archive
is needed to resolve an undefined symbol referred to by an object in an archive
that appears later on the command line, the linker would not be able to resolve
that reference.<span style='mso-spacerun:yes'>&nbsp; </span>By grouping the
archives, they all be searched repeatedly until all possible references are
resolved. Using this option has a significant performance cost.<span
style='mso-spacerun:yes'>&nbsp; </span>It is best to use it only when there are
unavoidable circular references between two or more archives.<o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.1.4
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关键点四：关于</span>Rules.make</h3>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>在所有的</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>linuxsubdirs</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Makefile</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中都有</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>include Rules.make</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>语句，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Rules.make</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中包含了一些通用的编译规则。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.1.5
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>最终展开</span></h3>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>init</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>gcc -D__KERNEL__ -I/root/linux/include -Wall -Wstrict-prototypes
  -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686<span
  style='mso-spacerun:yes'>&nbsp;&nbsp; </span>-c -o init/main.o init/main.c<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>gcc -D__KERNEL__ -I/root/linux/include -Wall -Wstrict-prototypes
  -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686<span style='mso-spacerun:yes'>&nbsp;
  </span>-DUTS_MACHINE='&quot;i386&quot;' -c -o init/version.o init/version.c</span><span
  style='font-size:9.0pt;mso-fareast-font-family:Batang;color:red'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里解释下各个符号参数的含义：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-DXX</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，将源码中所有的宏</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>XX </span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>替代为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>1</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-I</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，增加头文件搜索目录；</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-Wall</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，打开所有的可选警告；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-Wstrict-prototypes</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，如果定义或者声明的函数没有指定参数类型，则警告；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-O2</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，最佳优化</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-pipe</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，使用管道在编译</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>stage</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>之间通信，而不使用临时文件；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-march</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，产生指定架构类型的代码；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-c</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，编译</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>/</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>汇编源文件，但是不连接，这里这样是因为最后我们会自己调用</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>来连接；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-o </span><span style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>‘</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>FILE</span><span style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>’<span lang=ZH-CN>，指定输出文件名，如果没有指定，则将使用默认的文件名；</span></span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>kernel</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make CFLAGS=&quot;-D__KERNEL__ -I/root/linux/include -Wall
  -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686 &quot; -C<span
  style='mso-spacerun:yes'>&nbsp; </span>kernel<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Entering directory `/root/linux/kernel'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make all_targets<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Entering directory `/root/linux/kernel'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Nothing to be done for `all_targets'.<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Leaving directory `/root/linux/kernel'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Leaving directory `/root/linux/kernel'</span><span
  style='font-size:9.0pt;mso-fareast-font-family:Batang;color:red'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>drivers</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make CFLAGS=&quot;-D__KERNEL__ -I/root/linux/include -Wall
  -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686 &quot; -C<span
  style='mso-spacerun:yes'>&nbsp; </span>drivers<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Entering directory `/root/linux/drivers'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make -C block<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Entering directory `/root/linux/drivers/block'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make all_targets<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
  "Times New Roman";color:red'>……</span><span style='font-size:9.0pt;
  mso-hansi-font-family:宋体;color:red'><o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make all_targets<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Entering directory `/root/linux/drivers'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Nothing to be done for `all_targets'.<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Leaving directory `/root/linux/drivers'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Leaving directory `/root/linux/drivers'<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>mm</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体;color:red'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make CFLAGS=&quot;-D__KERNEL__ -I/root/linux/include -Wall
  -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686 &quot; -C<span
  style='mso-spacerun:yes'>&nbsp; </span>mm<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Entering directory `/root/linux/mm'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
  "Times New Roman";color:red'>……</span><span style='font-size:9.0pt;
  mso-hansi-font-family:宋体;color:red'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>arch/i386/kernel</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><b
style='mso-bidi-font-weight:normal'><span style='font-size:9.0pt;mso-hansi-font-family:
宋体;color:blue'><o:p></o:p></span></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make CFLAGS=&quot;-D__KERNEL__ -I/root/linux/include -Wall
  -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686 &quot; -C<span
  style='mso-spacerun:yes'>&nbsp; </span>arch/i386/kernel<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Entering directory `/root/linux/arch/i386/kernel'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Nothing to be done for `all'.<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Leaving directory `/root/linux/arch/i386/kernel'<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>arch/i386/mm</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><b
style='mso-bidi-font-weight:normal'><span style='font-size:9.0pt;mso-hansi-font-family:
宋体;color:blue'><o:p></o:p></span></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make CFLAGS=&quot;-D__KERNEL__ -I/root/linux/include -Wall
  -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686 &quot; -C<span
  style='mso-spacerun:yes'>&nbsp; </span>arch/i386/mm<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Entering directory `/root/linux/arch/i386/mm'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make all_targets<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Entering directory `/root/linux/arch/i386/mm'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Nothing to be done for `all_targets'.<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Leaving directory `/root/linux/arch/i386/mm'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Leaving directory `/root/linux/arch/i386/mm'<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:9.0pt;mso-hansi-font-family:宋体;color:blue'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>编译</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>arch/i386/lib</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>目录下的文件：</span><b
style='mso-bidi-font-weight:normal'><span style='font-size:9.0pt;mso-hansi-font-family:
宋体;color:blue'><o:p></o:p></span></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make CFLAGS=&quot;-D__KERNEL__ -I/root/linux/include -Wall
  -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
  -mpreferred-stack-boundary=2 -march=i686 &quot; -C<span
  style='mso-spacerun:yes'>&nbsp; </span>arch/i386/lib<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Entering directory `/root/linux/arch/i386/lib'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make all_targets<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Entering directory `/root/linux/arch/i386/lib'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Nothing to be done for `all_targets'.<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[2]: Leaving directory `/root/linux/arch/i386/lib'<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>make[1]: Leaving directory `/root/linux/arch/i386/lib'<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:9.0pt;mso-hansi-font-family:宋体;color:blue'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>到此为止，所有涉及到内核的子目录都已经编译完毕，将他们链接起来</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>ld -m elf_i386 -T /root/linux/arch/i386/vmlinux.lds -e stext
  arch/i386/kernel/head.o arch/i386/kernel/init_task.o init/main.o
  init/version.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>--start-group \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>arch/i386/kernel/kernel.o arch/i386/mm/mm.o kernel/kernel.o mm/mm.o
  fs/fs.o ipc/ipc.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>drivers/block/block.o drivers/char/char.o drivers/misc/misc.o
  drivers/net/net.o drivers/media/media.o<span style='mso-spacerun:yes'>&nbsp;
  </span>drivers/char/drm/drm.o drivers/ide/idedriver.o drivers/scsi/scsidrv.o
  drivers/cdrom/driver.o drivers/sound/sounddrivers.o drivers/pci/driver.o
  drivers/pcmcia/pcmcia.o drivers/net/pcmcia/pcmcia_net.o drivers/pnp/pnp.o
  drivers/video/video.o drivers/usb/usbdrv.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>net/network.o \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>/root/linux/arch/i386/lib/lib.a /root/linux/lib/lib.a
  /root/linux/arch/i386/lib/lib.a \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>--end-group \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-o
  vmlinux<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里解释下各个符号参数的含义：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-mEMULATION</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，仿效</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>EMULATION</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>链接器，例如</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-m elf_i386</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld </span><span
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>C</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>verbose</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来显示当前</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>所支持的连接器，同时还会显示该链接器涉及到的环境变量定义脚本；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-T</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，指定链接脚本文件；</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-e ENTRY</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，使用</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>ENTRY</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>符号作为程序开始执行点；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>至此，包含内核所有相关模块的文件</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>已经完全生成，注意，我们在脚本文件</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>vmlinux.lds</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中将其实地址设置成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0xC0100000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这样内核中所有的符号绝对地址都以</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0xC0100000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>加上其相对于文件</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>位置的偏移地址构成，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0xC0100000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>该地址经过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Linux+CPU</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>页式影射后就是物理地址</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x100000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h2 style='mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>2.2 </span></span><![endif]>vmlinux.lds<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>文件解析</span></h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>OUTPUT_FORMAT(&quot;elf32-i386&quot;,
  &quot;elf32-i386&quot;, &quot;elf32-i386&quot;)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>OUTPUT_ARCH(i386)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>ENTRY(_start)<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里解释下各个符号参数的含义：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>OUTPUT_FORMAT(DEFAULT, BIG, LITTLE)</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>：该命令告诉</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>输出文件的格式，另外，如果选择了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-EB</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>选项，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将会使用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>BIG</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>来控制输出格式，如果选择了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-EL</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将会使用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>LITTLE</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>来控制输出格式，否则</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将会使用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DEFAULT</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>来控制输出格式。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-EB</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来指定大端字节，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-EL</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来指定小端字节。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>OUTPUT_ARCH(BFDARCH)</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>：指定特定计算机架构的输出格式。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>ENTRY(SYMBOL)</span><span lang=ZH-CN style='font-size:9.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman"'>：程序中第一条指令称之为入口点，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ENTRY</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来设置入口点，入口点为源码中的符号，这里就是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>_start</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:10.5pt;mso-para-margin-left:1.0gd;
text-indent:0cm;mso-char-indent-count:0'><span style='font-size:9.0pt;
color:green'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>SECTIONS<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>{<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>SECTIONS</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>命令用来告诉</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>如何将输入</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>sections</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>影射到输出</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>sections</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，以及在内存中如何放置这些</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>sections</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>. =
  0xC0000000 + 0x100000;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>_text = .;<span style='mso-tab-count:
  3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*
  Text and read-only data */<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里</span><span style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>’</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.</span><span
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>’<span
lang=ZH-CN>为当前位置计数器，这里将代码加载在起始位置为</span></span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>0xC0000000 + 0x100000</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>处；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>_text = .</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来获取当前位置计数器的值。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier;color:red'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>.text :
  {<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.text)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.fixup)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.gnu.warning)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>} = 0x9090<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.text.lock : { *(.text.lock) }<span
  style='mso-tab-count:1'>&nbsp;&nbsp; </span>/* out-of-line lock text */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>_etext = .;<span style='mso-tab-count:
  3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* End
  of text section */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.rodata : { *(.rodata) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.kstrtab : { *(.kstrtab) }<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>*(.text)</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>*(.fixup)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>*(.gnu.warning)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>指示所有的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.text</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.fixup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.gnu.warning</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>输入</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>sections</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>都被放在输出的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.text</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x9090</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来填充几个</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>section</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>之间的空洞的数值，通常这个空洞是由于设置</span><span
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>’</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.</span><span
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>’<span
lang=ZH-CN>造成的，这里没有其实没有空洞的。</span></span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>. =
  ALIGN(16);<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*
  Exception table */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__start___ex_table = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__ex_table : { *(__ex_table) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__stop___ex_table = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__start___ksymtab = .;<span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>/* Kernel symbol table */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__ksymtab : { *(__ksymtab) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__stop___ksymtab = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.data : {<span style='mso-tab-count:
  3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* Data */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.data)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>CONSTRUCTORS<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>_edata = .;<span style='mso-tab-count:
  3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* End
  of data section */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>. = ALIGN(8192);<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* init_task */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.data.init_task : { *(.data.init_task)
  }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>. = ALIGN(4096);<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* Init code
  and data */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp;</span><span
  style='mso-spacerun:yes'>&nbsp;</span>__init_begin = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.text.init : { *(.text.init) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.data.init : { *(.data.init) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>. = ALIGN(16);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__setup_start = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.setup.init : { *(.setup.init) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__setup_end = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__initcall_start = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.initcall.init : { *(.initcall.init) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__initcall_end = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>. = ALIGN(4096);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__init_end = .;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>. = ALIGN(4096);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.data.page_aligned : { *(.data.idt) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>. = ALIGN(32);<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.data.cacheline_aligned : {
  *(.data.cacheline_aligned) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>__bss_start = .;<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* BSS */<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.bss : {<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.bss)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>_end = . ;<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>ALIGN(EXP)</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，用来设置当前位置计数器的位置，但是位置时在当前位置后面的第一个和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>EXP</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>对齐的位置。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>/DISCARD/ : {<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.text.exit)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.data.exit)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>*(.exitcall.exit)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>/DISCARD/
section</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>非常特殊，其用来丢弃指定的输入</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>sections</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这些</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>sections</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将不会出现在输出文件中。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='background:#E6E6E6;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>/* Stabs
  debugging sections.<span style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.stab 0 : { *(.stab) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.stabstr 0 : { *(.stabstr) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.stab.excl 0 : { *(.stab.excl) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.stab.exclstr 0 : { *(.stab.exclstr) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.stab.index 0 : { *(.stab.index) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.stab.indexstr 0 : { *(.stab.indexstr)
  }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'><span
  style='mso-spacerun:yes'>&nbsp; </span>.comment 0 : { *(.comment) }<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;font-family:Courier'>}<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里的</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>.stab 0 :</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>表示该段起始于位置</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>处。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.2.1
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关于程序中</span>.text<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，</span>.data<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，</span>.bss<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>等段的说明：</span></h3>

<p class=MsoNormalIndent style='text-indent:0cm;mso-char-indent-count:0'><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>由于历史原因，</span><span style='font-size:
9.0pt'>C</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>程序一直由下列几部分组成：</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo4'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>1、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>正文段。这是由</span><span style='font-size:9.0pt'>CPU</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>执行的机器指令部分。通常，正文段是可共享的，所以即使是经常执行的程序</span><span
style='font-size:9.0pt'>(</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>如文本编辑程序、</span><span style='font-size:9.0pt'>C</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>编译程序、</span><span style='font-size:
9.0pt'>shell</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>等</span><span
style='font-size:9.0pt'>)</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>在存储器中也只需有一个副本，另外，正文段常常是只读的，以防止程序由于意外事故而修改其自身的指令。</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo4'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>2、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>初始化数据段。通常将此段称为数据段，它包含了程序中需赋初值的变量。例如，</span><span
style='font-size:9.0pt'> C</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>程序中任何函数之外的说明：</span><span style='font-size:9.0pt'><br>
int maxcount = 99; </span><span lang=ZH-CN style='font-size:9.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>使此变量以初值存放在初始化数据段中。</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo4'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>3、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>非初始化数据段。通常将此段称为</span><span style='font-size:9.0pt'>bss </span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>段，在程序开始执行之前，内核将此段初始化为</span><span
style='font-size:9.0pt'>0</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。函数外的说明：</span><span style='font-size:9.0pt'><br>
long sum[1000] ; </span><span lang=ZH-CN style='font-size:9.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>使此变量存放在非初始化数据段中。</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo4'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>4、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>栈。自动变量以及每次函数调用时所需保存的信息都存放在此段中。每次函数调用时，其返回地址、以及调用者的环境信息（例如某些机器寄存器）都存放在栈中。然后，新被调用的函数在栈上为其自动和临时变量分配存储空间。通过以这种方式使用栈，</span><span
style='font-size:9.0pt'> C</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>函数可以递归调用。</span><span style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo4'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>5、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>堆。通常在堆中进行动态存储分配。由于历史上形成的惯例，堆位于非初始化数据段顶和栈底之间。</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:10.5pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-size:9.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------| <o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span lang=ZH-CN>命令行参数和</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN>环境变量</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------| <o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=ZH-CN>栈</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------| <o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=ZH-CN>↓</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=ZH-CN>↑</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------| <o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=ZH-CN>堆</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------|+--<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span lang=ZH-CN>未初始化的数据</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>++ <span lang=ZH-CN>由</span>exec<span
lang=ZH-CN>赋初值</span>0<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------|+--<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span lang=ZH-CN>初始化的数据</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>| <o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------|<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>++ exec<span lang=ZH-CN>从程序文件中读取</span><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=ZH-CN>正文</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>|<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>|<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:112.45pt;mso-para-margin-left:10.71gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'>|--------------------|+--
<o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:10.5pt;mso-para-margin-left:1.0gd;
text-indent:0cm;mso-char-indent-count:0;line-height:9.0pt;mso-line-height-rule:
exactly'><span style='font-size:9.0pt;font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormalIndent style='text-indent:0cm;mso-char-indent-count:0'><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>从图中可以看到末初始化数据段的内容并不存放在磁盘程序文件中。需要存放在磁盘程序文件中的段只有正文段和初始化数据段。</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.2.2
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关于</span>ld<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>主要功能简介</span></h3>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l15 level1 lfo5;tab-stops:list 18.0pt'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>1、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt'>ld</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>用来组合对象文件和档案文件，重新部署其中的数据以及绑定符号引用。编译程序的最后一步通常就是</span><span
style='font-size:9.0pt'>ld</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，</span><span style='font-size:9.0pt'> ld</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>通常使用</span><span style='font-size:
9.0pt'>BFD</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>库来操作对象文件，这使得</span><span
style='font-size:9.0pt'>ld</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>可以按照多种不同的格式例如</span><span style='font-size:9.0pt'>COFF</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>、</span><span style='font-size:9.0pt'>a.out</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，来读取、组合以及写对象文件。不同的格式可以组合在一起产生任何可用类型的目标文件；</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l15 level1 lfo5;tab-stops:list 18.0pt'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>2、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt'>ld </span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>接受按照</span><span style='font-size:
9.0pt'>AT&amp;T</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>链接命令语言语法编写的链接命令语言文件，从而对链接过程实施明确的整体上的控制；</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l15 level1 lfo5;tab-stops:list 18.0pt'><![if !supportLists]><span
style='font-size:9.0pt;mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>3、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>每个链接过程都是通过链接脚本来控制的，该脚本按照链接器命令语言编写。链接脚本的主要目的就是用来描述输入文件中的</span><span
style='font-size:9.0pt'>section</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>应该如何被影射到输出文件中去，同时还控制输出文件的内存布局。如果没有提供链接脚本给链接器，那么连接器将会采用缺省的脚本，其已经被编译到链接器可执行文件中去了。使用</span><span
style='font-size:9.0pt'>ld Cverbose</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>可以显示缺省的链接脚本。</span><span style='font-size:9.0pt'><o:p></o:p></span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l14 level1 lfo1;tab-stops:
list 18.0pt'><![if !supportLists]><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>3 </span></span><![endif]>bboosect<span lang=ZH-CN
style='font-family:黑体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>和</span>bsetup<span lang=ZH-CN style='font-family:黑体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的生成</span></h1>

<h2 style='mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>3.1 </span></span><![endif]>make bzImage →
/top/Makefile → /top/arch/i386/Makefile</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>MAKEBOOT
  = $(MAKE) -C arch/$(ARCH)/boot<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>vmlinux:
  arch/i386/vmlinux.lds<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bzImage:
  vmlinux<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>@$(MAKEBOOT) bzImage</span><span style='font-size:9.0pt;color:blue'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>现在到达</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>@$(MAKEBOOT) bzImage</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这里的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>@</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>表示执行该条命令的时候不要在显示器上显示，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-C</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>表示执行子目录中的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Makefile</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。对于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>MAKEBOOT</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$(MAKE)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>命令在执行</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Makefile</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>时会自动将其解释为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，也就是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>make</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>命令本身。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ARCH</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>则为</span><b
style='mso-bidi-font-weight:normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>/top/Makefile</span></u></b><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中导出的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ARCH</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，即</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>i386</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>export<span
  style='mso-spacerun:yes'>&nbsp; </span>VERSION PATCHLEVEL SUBLEVEL
  EXTRAVERSION KERNELRELEASE ARCH \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>CONFIG_SHELL TOPDIR HPATH HOSTCC HOSTCFLAGS CROSS_COMPILE AS LD CC \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>CPP AR NM STRIP OBJCOPY OBJDUMP MAKE MAKEFILES GENKSYMS MODFLAGS PERL<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>最终</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>@$(MAKEBOOT) bzImage</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>被解释为：</span><b
style='mso-bidi-font-weight:normal'><span style='font-size:9.0pt;color:red'>@make
-C arch/i386/boot bzImage</span></b><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";color:red'>，</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>我们来看看其究竟做了些什么。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<h2 style='mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>3.2 </span></span><![endif]>make bzImage →
/top/Makefile → /top/arch/i386/Makefile→ /top/arch/i386/boot/Makefile</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bzImage:
  $(CONFIGURE) bbootsect bsetup compressed/bvmlinux tools/build<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(OBJCOPY)
  compressed/bvmlinux compressed/bvmlinux.out<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>tools/build -b bbootsect bsetup compressed/bvmlinux.out $(ROOT_DEV)
  &gt; bzImage<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>注解：在这里</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>make bzImage</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>才得以被执行，执行前，需要依靠的对象为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect bsetup
compressed/bvmlinux tools/build</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，因此将首先编译这四个对象。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>3.2.1
</span></span><![endif]>bbosect<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的生成过程</span></h3>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的编译还是在当前的</span><a
name="OLE_LINK1"><b style='mso-bidi-font-weight:normal'><u><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/arch/i386/boot/Makefile</span></u></b></a><span
style='mso-bookmark:OLE_LINK1'></span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bbootsect:
  bbootsect.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>$(LD) -Ttext 0x0 -s -oformat binary $&lt; -o $@<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bbootsect.o:
  bbootsect.s<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>$(AS) -o $@ $&lt;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bbootsect.s:
  bootsect.S Makefile $(BOOT_INCL)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>$(CPP) $(CPPFLAGS) -D__BIG_KERNEL__ -traditional $(SVGA_MODE)
  $(RAMDISK) $&lt; -o $@<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>$&lt;</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>为所依赖对象的第一个元素，例如第四行的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$&lt;</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>即</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bboosect.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$@</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>表示目的，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><a
href="mailto:例如第四行的$@表示bboosect.o"><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";color:windowtext;text-decoration:none;
text-underline:none'>例如第四行的</span><span style='color:windowtext;text-decoration:
none;text-underline:none'>$@</span><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";color:windowtext;text-decoration:none;
text-underline:none'>表示</span><span style='color:windowtext;text-decoration:
none;text-underline:none'>bboosect.o</span></a></span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>LD</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>AS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CPP</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的定义均在</span><b
style='mso-bidi-font-weight:normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>/top/Makefile</span></u></b><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中，至于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>SVGA_MODE</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>RAMDISK</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>这时暂无需考虑，不影响理解：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>HPATH<span
  style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span style='mso-tab-count:1'> </span>=
  $(TOPDIR)/include <o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CROSS_COMPILE
  <span style='mso-tab-count:1'>&nbsp;&nbsp; </span>= <o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>AS<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
  $(CROSS_COMPILE)as<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>LD<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
  $(CROSS_COMPILE)ld<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CC<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
  $(CROSS_COMPILE)gcc<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CPP<span
  style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
  $(CC) CE<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CPPFLAGS
  := -D__KERNEL__ -I$(HPATH)<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>而在</span><b style='mso-bidi-font-weight:
normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/arch/i386Makefile</span></u></b><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>LD</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>又被重新定义，表示该目录及该目录下的子目录统统使用当前的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>LD</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>定义：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>LD=$(CROSS_COMPILE)ld
  -m elf_i386<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>BOOT_INCL</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>定义在</span><b
style='mso-bidi-font-weight:normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>/top/arch/i386/boot/Makefile</span></u></b><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>BOOT_INCL
  =<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
  style='mso-spacerun:yes'>&nbsp;</span>$(TOPDIR)/include/linux/config.h \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span><span style='mso-spacerun:yes'>&nbsp;</span>$(TOPDIR)/include/linux/autoconf.h
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span><span style='mso-spacerun:yes'>&nbsp;</span>$(TOPDIR)/include/asm/boot.h<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>因此这里最终的展开为：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>gcc -E -D__KERNEL__ -I/root/linux/include -D__BIG_KERNEL__
  -traditional -DSVGA_MODE=NORMAL_VGA<span style='mso-spacerun:yes'>&nbsp;
  </span>bootsect.S -o bbootsect.s<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>as -o bbootsect.o bbootsect.s<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>ld -m elf_i386 -Ttext 0x0 -s -oformat binary bbootsect.o -o
  bbootsect<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里我们解释下其中的一些含义，其中第一句中关于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>gcc</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-E</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，我们知道编译可以分为</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>4</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>个阶段，预处理，编译，汇编和链接。前三个步骤适用于源文件，结果产生一个</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>object</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件；而第四个步骤用于将所有的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Object</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件链接组合到可执行文件中。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-E</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>选项用来表示在预处理阶段之后就不要继续下一步了，直接停止，输出即为经过预处理的源代码，对于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>C</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>语言而言，就是将所有的外部引用添加到目标文件中；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>- traditional</span><span lang=ZH-CN style='font-size:9.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman"'>，用于支持传统的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>C</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>语法；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-DSVGA_MODE=NORMAL_VGA</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，也是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-D</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的一个用法，用来将源码中所有的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>SVGA_MODE</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>宏替换成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>NORMAL_VGA</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-o FILE</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，将结果输出到</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>FILE</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>；</span><span
lang=ZH-CN style='font-size:9.0pt;mso-hansi-font-family:宋体'> </span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里产生的</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>bbootsect.s</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>基本语法和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bootsect.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中本完全一样，只是所有的变量以及宏定义的外部引用全部被实际的数值所代替，使其不再依赖于其他文件。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>第二句中关于</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>as</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，注意</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>as</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>输出的指示只是输出还没有链接的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>object</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-o</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，使用</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>as</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>必定有对象文件输出，缺省的为</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>a.out</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，除非用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-o</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>来指定一个特定文件名的文件。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>第三句关于</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-Ttext ORG</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，用来设置</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>.text</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>段的起始地址，这里为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x0</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-s</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，在输出文件中忽略所有的符号信息；</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-oformat</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，用来设置输出文件的类型，可以通过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>objdump </span><span
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>C</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>i</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>来查看可用的二进制格式。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里产生的</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>即是链接后的二进制文件，其中已经去处了所有的符号信息，所有的其他非相关信息，只剩下纯代码，并且第一条指令的起始地址为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<h3 style='mso-list:l14 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>3.2.2
</span></span><![endif]>bsetup<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的生成过程</span></h3>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bsetup:
  bsetup.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(LD)
  -Ttext 0x0 -s -oformat binary -e begtext -o $@ $&lt;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bsetup.o:
  bsetup.s<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(AS)
  -o $@ $&lt;<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bsetup.s:
  setup.S video.S Makefile $(BOOT_INCL) $(TOPDIR)/include/linux/version.h
  $(TOPDIR)/include/linux/compile.h<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(CPP)
  $(CPPFLAGS) -D__BIG_KERNEL__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@</span><span
  style='font-size:9.0pt'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>基本原理和</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>类似，最终展开为：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#FFFF99;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>gcc -E -D__KERNEL__ -I/root/linux/include -D__BIG_KERNEL__
  -traditional -DSVGA_MODE=NORMAL_VGA<span style='mso-spacerun:yes'>&nbsp;
  </span>setup.S -o bsetup.s<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>as -o bsetup.o bsetup.s<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>ld -m elf_i386 -Ttext 0x0 -s -oformat binary -e begtext -o bsetup
  bsetup.o<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里唯一不同的就是最后一句的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-e begtext</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，此处的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>begtext=0</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，定义在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>setup.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中。另外需要注意的是，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的起始地址都为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，但是其被拷贝到内存中的时候起始地址却为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x90000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x90200</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这样假设原来</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bootsect.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中有个变量</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，则在编译链接之后，变量</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>所暗示的物理内存地址就是其相对于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的起始地址的偏移</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>+bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的起始地址</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>=Addr</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，访问</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>处的指令中的地址也就是为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Addr</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。但真实的拷贝到内存中时，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的真实物理地址却未</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x90000+Addr</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，那么该如何办呢？其实在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bootsetup.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，一开始首先通过指令</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ljmp $INITSEG, $go</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>设置</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CS=9000H</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>IP</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>go</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>相对于该文件开始初的偏移，同时也将自己的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ES</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>、</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>FS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>设置成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x9000</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这样虽然</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的地址是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，但是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CPU</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>访问</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>A</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的地址是通过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DS:Addr</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的方式，也就相当于逻辑地址</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>Addr</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>加到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DS*10H</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>上从而实现了物理地址</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x90000+Addr</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，因此才得以正确访问所有的数据和指令，对于指令就是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CS:IP</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，则顺着</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CS:go</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>往下走就好了；对于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>setup.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，由于</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>setup.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bootsect.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>调用的，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bootsect.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>在调用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>setup.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的时候采用的是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ljmp $SETUPSEG, $0</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，从而将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>IP</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>设置成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>9020H:0000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，刚好是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>在内存中的起始位置，随后也同时设置了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>DS</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，因此也可以正确访问所有的指令和数据。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l14 level1 lfo1;tab-stops:
list 18.0pt'><![if !supportLists]><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>4 </span></span><![endif]>compressed/bvmlinux<span
lang=ZH-CN style='font-family:黑体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的生成</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>4.1 </span></span><![endif]>make bzImage<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>→</span>/top/Makefile<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>→</span>/top/arch/i386/Makefile<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:
Arial'>→</span><br>
/top/arch/i386/boot/Makefile<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Arial;mso-hansi-font-family:Arial'>→</span>/top/arch/i386/boot
/compressed/Makefile</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>HEAD
  = head.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>SYSTEM
  = $(TOPDIR)/vmlinux<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>OBJECTS
  = $(HEAD) misc.o<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>CFLAGS
  = $(CPPFLAGS) -O2 -DSTDC_HEADERS<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>ZLDFLAGS
  = -e startup_32<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>BZIMAGE_OFFSET
  = 0x100000<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>BZLINKFLAGS
  = -Ttext $(BZIMAGE_OFFSET) $(ZLDFLAGS)<o:p></o:p></span></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:9.0pt;mso-fareast-font-family:Batang'>bvmlinux: piggy.o
  $(OBJECTS)<o:p></o:p></span></b></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(LD)
  $(BZLINKFLAGS) -o bvmlinux $(OBJECTS) piggy.o</span></b><b style='mso-bidi-font-weight:
  normal'><span style='font-size:9.0pt'><o:p></o:p></span></b></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>head.o:
  head.S<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(CC)
  $(AFLAGS) -traditional -c head.S<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>misc.o:
  misc.c<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(CC)
  $(CFLAGS) -c misc.c<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>piggy.o:<span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(SYSTEM)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>tmppiggy=_tmp_$$$$piggy;
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rm
  -f $$tmppiggy $$tmppiggy.gz $$tmppiggy.lnk; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(OBJCOPY)
  $(SYSTEM) $$tmppiggy; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>gzip
  -f -9 &lt; $$tmppiggy &gt; $$tmppiggy.gz; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>echo
  &quot;SECTIONS { .data : { input_len = .; LONG(input_data_end - input_data)
  input_data = .; *(.data) input_data_end = .; }}&quot; &gt; $$tmppiggy.lnk; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>$(LD)
  -r -o piggy.o -b binary $$tmppiggy.gz -b elf32-i386 -T $$tmppiggy.lnk; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rm
  -f $$tmppiggy $$tmppiggy.gz $$tmppiggy.lnk</span><span style='font-size:9.0pt'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:9.0pt;font-family:"Dotum",sans-serif;mso-fareast-font-family:
宋体;color:#CCFFFF;background:blue;mso-highlight:blue'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这里涉及到</span><b style='mso-bidi-font-weight:
normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/Makefile</span></u></b><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中的一些定义：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt'>CPPFLAGS := -D__KERNEL__
  -I$(HPATH)<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt'>AFLAGS := -D__ASSEMBLY__
  $(CPPFLAGS)<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;color:blue'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>最终展开为：</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='background:#FFFF99;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>tmppiggy=_tmp_$$piggy;
  \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>rm -f $tmppiggy
  $tmppiggy.gz $tmppiggy.lnk; \<o:p></o:p></span></p>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-size:9.0pt;color:red'>objcopy -O binary -R .note -R .comment -S
  /root/linux/vmlinux $tmppiggy; \<o:p></o:p></span></b></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>gzip -f -9 &lt;
  $tmppiggy &gt; $tmppiggy.gz; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>echo
  &quot;SECTIONS { .data : { input_len = .; LONG(input_data_end - input_data)
  input_data = .; *(.data) input_data_end = .; }}&quot; &gt; $tmppiggy.lnk; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>ld -m elf_i386 -r
  -o piggy.o -b binary $tmppiggy.gz -b elf32-i386 -T $tmppiggy.lnk; \<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>rm -f $tmppiggy
  $tmppiggy.gz $tmppiggy.lnk<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>gcc -D__ASSEMBLY__
  -D__KERNEL__ -I/root/linux/include -traditional -c head.S<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>gcc -D__KERNEL__
  -I/root/linux/include -O2 -DSTDC_HEADERS -c misc.c<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;color:red'>ld -m elf_i386
  -Ttext 0x100000 -e startup_32 -o bvmlinux head.o misc.o piggy.o<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>前面生成的</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>vmlinux</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>elf-i386</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>类型的可执行文件，这里</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>objcopy</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>用来将所有的这些可执行文件头信息全部去除掉，这里解释下其中的参数：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-O BFDNAME</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，将输出文件设置成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>binary</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>格式，去除所有的可执行文件格式的文件；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-R SECTIONNAME</span><span lang=ZH-CN style='font-size:9.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman"'>，将</span><span style='font-size:
9.0pt;mso-hansi-font-family:宋体'>SECTIONNAME</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>section</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>从输出文件中去除；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>-S</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman"'>，不要拷贝</span><span style='font-size:9.0pt;mso-hansi-font-family:
宋体'>relocation</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>和</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>symbol</span><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>信息；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>这样拷贝后的文件就不带任何用来识别可执行文件的信息了，而是完全的仅仅包含了执行代码文件</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$tmppiggy</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，再将其通过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>gzip</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>压缩成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$tmppiggy.gz</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>（纯二进制文件），然后</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>结合临时</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>脚本</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$tmppiggy.lnk relocation</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>该文件，目标为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>piggy.o</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，这里需要注意的是经过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld -m elf_i386 -r -o piggy.o
-b binary $tmppiggy.gz -b elf32-i386 -T $tmppiggy.lnk</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>命令后</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>$tmppiggy.gz</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中所有文件的内容均被放置到了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>piggy.o</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>.data</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>段中。最后将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>head.o</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>misc.o</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>piggy.o</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>通过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>ld</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>链接到一起，构成了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux = head.o + misc.o +
piggy.o</span><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>，</span><span lang=ZH-CN
style='font-size:9.0pt;mso-hansi-font-family:宋体'> </span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>最后的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>起始地址为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x100000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，开始符号为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>startup_32</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，也就是让</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>startup_32</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的地址为</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x100000</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，刚好是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>被</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bootsect.S</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>拷贝到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>1M</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>内存处的第一条指令执行内存地址。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h1 style='mso-list:l14 level1 lfo3'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>6
</span></span><![endif]>tools/build<span lang=ZH-CN style='font-family:黑体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的生成</span></h1>

<p class=MsoNormalIndent style='text-indent:0cm;mso-char-indent-count:0'>bulid.c<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的生成采用普通的</span>make build<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。</span></p>

<h1 style='mso-list:l14 level1 lfo3'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>7
</span></span><![endif]>bzImage<span lang=ZH-CN style='font-family:黑体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的生成</span></h1>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l14 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>7.1 </span></span><![endif]>make bzImage →
/top/Makefile → /top/arch/i386/Makefile→ /top/arch/i386/boot/Makefile</h2>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;background:#E6E6E6;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'>bzImage:
  $(CONFIGURE) bbootsect bsetup compressed/bvmlinux tools/build<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>$(OBJCOPY) compressed/bvmlinux compressed/bvmlinux.out<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-fareast-font-family:Batang'><span
  style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span>tools/build -b bbootsect bsetup compressed/bvmlinux.out $(ROOT_DEV)
  &gt; bzImage</span><span style='font-size:9.0pt'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>我们回到</span><b style='mso-bidi-font-weight:
normal'><u><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>/top/arch/i386/boot/Makefile</span></u></b><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>中，展开即为：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='background:#FFFF99;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:5.65pt 5.4pt 5.65pt 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=662 valign=top style='width:496.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>objcopy -O binary -R .note -R .comment -S compressed/bvmlinux
  compressed/bvmlinux.out<o:p></o:p></span></p>
  <p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体;
  color:red'>tools/build -b bbootsect bsetup compressed/bvmlinux.out CURRENT
  &gt; bzImage<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>首先将</span><span style='font-size:9.0pt;
mso-hansi-font-family:宋体'>bvmlinux</span><span lang=ZH-CN style='font-size:
9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>剥除掉可执行文件信息生成</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux.out</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，然后通过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>tools/build</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bboosect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>compressed/bvmlinux.out </span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>和</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CURRENT</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>组合，形成了</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bzImage</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>。这里</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bboosect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>compressed/bvmlinux.out</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>统统为纯二进制指令文件，没有其他的信息。</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h1 style='mso-list:l14 level1 lfo3'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>8
</span></span><![endif]>build.c<span lang=ZH-CN style='font-family:黑体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的流程</span></h1>

<p class=MsoNormal><span lang=ZH-CN style='font-size:9.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman"'>如果内核为压缩的，则在调用</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>build</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的时候应该加上</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-b</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>选项，如果启动</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>root</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件系统没有指定，则应该加上</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CURRENT</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>选项：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;mso-hansi-font-family:宋体'>build -b bbootsect bsetup
compressed/bvmlinux.out CURRENT &gt; bzImage<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'>build</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>会将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>共</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>512K</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>放在</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bzImage</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>文件的最起始处，</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>放在随后，而</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux.out</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>放在最后，最后构成了真正的内核</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bzImage</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，另外</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>build</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>还有做如下这几个事情：</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>如果有</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>-b</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>选项，则会检测</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux.out</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的大小不要超过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x280000(2.5M)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，否则大小不要超过</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>0x7F000(508K)</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bvmlinux.out</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的大小</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/16</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>写入到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>500</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>字节处；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的大小</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/512</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>，也就是</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bsetup</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>要占用的扇区数写入到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>497</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>字节处；</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt;mso-list:l12 level1 lfo2;
tab-stops:list 21.0pt'><![if !supportLists]><span style='font-size:9.0pt;
font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-size:9.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman"'>依据</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>CURRENT</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>将当前</span><span
lang=ZH-CN style='font-size:9.0pt;mso-hansi-font-family:宋体'> </span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>/ </span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>所处的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>root minor_root major_root</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>写入到</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>bbootsect</span><span
lang=ZH-CN style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>的</span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'>508</span><span lang=ZH-CN
style='font-size:9.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman"'>字节处；</span><span
lang=ZH-CN style='font-size:9.0pt;mso-hansi-font-family:宋体'> </span><span
style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p></o:p></span></p>

<h1 style='mso-list:l14 level1 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>9
</span></span><![endif]><span lang=ZH-CN style='font-family:黑体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>关于</span>Linux<span
lang=ZH-CN style='font-family:黑体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的</span>ld gcc as</h1>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span>Linux<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中，使用</span>info XXX<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>可以显示关于</span>XXX<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>命令的所有最详细的文档，比互联网上的任何工具都要强大。</span></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>例如如果想获取关于</span>ld
gcc<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>和</span>as<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的最详细信息，就可以使用</span>info ld &gt; ldinfo<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>、</span>info gcc &gt; gccinfo<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>、</span>info as &gt; asinfo<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>来将所有这些命令的信息保存到相应的导出文件中。</span></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>而这些文档的阅读版可以参考</span><a
href="http://www.linux.org/">http://www.linux.org/</a><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>上的</span>Howto<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>等等，例如：</span>Using
ld - the GNU linker <span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>。</span></p>

<p class=MsoNormal><span style='font-size:9.0pt;mso-hansi-font-family:宋体'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
