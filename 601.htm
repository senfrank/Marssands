<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="601_files/filelist.xml">
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>shengh</o:Author>
  <o:LastAuthor>shengh</o:LastAuthor>
  <o:Revision>1</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2017-12-18T03:06:00Z</o:Created>
  <o:LastSaved>2017-12-18T03:06:00Z</o:LastSaved>
  <o:Pages>11</o:Pages>
  <o:Words>1970</o:Words>
  <o:Characters>11230</o:Characters>
  <o:Lines>93</o:Lines>
  <o:Paragraphs>26</o:Paragraphs>
  <o:CharactersWithSpaces>13174</o:CharactersWithSpaces>
  <o:Version>16.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="601_files/themedata.thmx">
<link rel=colorSchemeMapping href="601_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>AR-SA</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
   <w:UseFELayout/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" DefPriority="99"
  LatentStyleCount="375">
  <w:LsdException Locked="false" Priority="0" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 9"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="0" SemiHidden="true"
   UnhideWhenUsed="true" Name="Normal Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="header"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footer"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index heading"/>
  <w:LsdException Locked="false" Priority="35" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of figures"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope return"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="line number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="page number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of authorities"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="macro"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="toa heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 5"/>
  <w:LsdException Locked="false" Priority="10" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Closing"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Signature"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="true"
   UnhideWhenUsed="true" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Message Header"/>
  <w:LsdException Locked="false" Priority="11" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Salutation"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Date"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Note Heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Block Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="FollowedHyperlink"/>
  <w:LsdException Locked="false" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Document Map"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Plain Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="E-mail Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Top of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Bottom of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal (Web)"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Acronym"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Cite"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Code"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Definition"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Keyboard"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Preformatted"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Sample"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Typewriter"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Variable"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Table"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation subject"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="No List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Contemporary"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Elegant"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Professional"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Balloon Text"/>
  <w:LsdException Locked="false" Priority="39" Name="Table Grid"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Theme"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hashtag"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Unresolved Mention"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1107305727 0 0 415 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-520092929 1073786111 9 0 415 0;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	mso-fareast-font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
h1
	{mso-style-name:"Heading 1\,heading 1";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 1 Char\,heading 1 Char";
	mso-style-next:"Normal Indent";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:21.25pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-21.25pt;
	mso-line-height-alt:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l7 level1 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:18.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:黑体;
	mso-font-kerning:0pt;
	layout-grid-mode:line;}
h2
	{mso-style-name:"Heading 2\,heading 2";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 2 Char\,heading 2 Char";
	mso-style-next:"Normal Indent";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:49.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-49.6pt;
	mso-line-height-alt:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l7 level2 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:黑体;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:1.0pt;}
h3
	{mso-style-name:"Heading 3\,heading 3";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 3 Char\,heading 3 Char";
	mso-style-next:"Normal Indent";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:70.9pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-70.9pt;
	line-height:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l7 level3 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	layout-grid-mode:line;}
h4
	{mso-style-name:"Heading 4\,heading 4";
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 4 Char";
	mso-style-next:"Normal Indent";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:99.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-79.35pt;
	line-height:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l7 level4 lfo1;
	layout-grid-mode:char;
	font-size:12.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:宋体;
	mso-font-kerning:1.0pt;
	font-weight:normal;}
p.MsoNormalIndent, li.MsoNormalIndent, div.MsoNormalIndent
	{mso-style-unhide:no;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:宋体;
	mso-font-kerning:1.0pt;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char\,heading 1 Char";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 1\,heading 1";
	mso-ansi-font-size:18.0pt;
	mso-bidi-font-size:18.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:黑体;
	layout-grid-mode:both;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char\,heading 2 Char";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 2\,heading 2";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Arial",sans-serif;
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:黑体;
	mso-hansi-font-family:Arial;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char\,heading 3 Char";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 3\,heading 3";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:宋体;
	layout-grid-mode:both;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 4\,heading 4";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:宋体;
	mso-font-kerning:1.0pt;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:等线;
	mso-fareast-theme-font:minor-fareast;}
.MsoPapDefault
	{mso-style-type:export-only;
	margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 @list l0
	{mso-list-id:120002752;
	mso-list-template-ids:968021466;}
@list l0:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l0:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l0:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l0:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l0:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l0:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l0:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l0:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l0:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l1
	{mso-list-id:154998171;
	mso-list-template-ids:365340184;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l1:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l1:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l1:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l1:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l1:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l1:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l1:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l1:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l2
	{mso-list-id:177429335;
	mso-list-template-ids:-1383928264;}
@list l2:level1
	{mso-level-number-format:alpha-upper;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l2:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l2:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l2:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l2:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l2:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l2:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l2:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l2:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l3
	{mso-list-id:327834323;
	mso-list-template-ids:968021466;}
@list l3:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l3:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l3:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l3:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l3:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l3:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l3:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l3:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l3:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l4
	{mso-list-id:349919479;
	mso-list-template-ids:365340184;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l4:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l4:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l4:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l4:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l4:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l4:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l4:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l4:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l5
	{mso-list-id:1059133059;
	mso-list-template-ids:365340184;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l5:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l5:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l5:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l5:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l5:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l5:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l5:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l5:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l6
	{mso-list-id:1152258922;
	mso-list-template-ids:968021466;}
@list l6:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l6:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l6:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l6:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l6:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l6:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l6:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l6:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l6:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l7
	{mso-list-id:1803646617;
	mso-list-template-ids:87981124;}
@list l7:level1
	{mso-level-style-link:"Heading 1";
	mso-level-suffix:space;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.25pt;
	text-indent:-21.25pt;}
@list l7:level2
	{mso-level-style-link:"Heading 2";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:49.6pt;
	text-indent:-49.6pt;}
@list l7:level3
	{mso-level-style-link:"Heading 3";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:70.9pt;
	text-indent:-70.9pt;}
@list l7:level4
	{mso-level-style-link:"Heading 4";
	mso-level-suffix:space;
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:99.2pt;
	text-indent:-79.35pt;}
@list l7:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:139.05pt;
	mso-level-number-position:left;
	margin-left:127.55pt;
	text-indent:-42.5pt;}
@list l7:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:163.0pt;
	mso-level-number-position:left;
	margin-left:163.0pt;
	text-indent:-2.0cm;}
@list l7:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:199.55pt;
	mso-level-number-position:left;
	margin-left:191.35pt;
	text-indent:-63.8pt;}
@list l7:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:238.8pt;
	mso-level-number-position:left;
	margin-left:219.7pt;
	text-indent:-70.9pt;}
@list l7:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:255.1pt;
	mso-level-number-position:left;
	margin-left:255.1pt;
	text-indent:-85.0pt;}
@list l8
	{mso-list-id:1852721458;
	mso-list-template-ids:2134295356;}
@list l8:level1
	{mso-level-number-format:alpha-upper;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l8:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l8:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l8:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l8:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l8:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l8:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l8:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l8:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l9
	{mso-list-id:2086293373;
	mso-list-template-ids:365340184;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06C;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l9:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:60.0pt;
	text-indent:-18.0pt;}
@list l9:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l9:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l9:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l9:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l9:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l9:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l9:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:8.0pt;
	mso-para-margin-left:0cm;
	line-height:107%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:等线;
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:36.0pt'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<h1 style='mso-list:l7 level1 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1
</span></span><![endif]><span lang=ZH-CN style='font-family:黑体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>几个和调试相关的工具</span><o:p></o:p></h1>
<p style='mso-list:l7 level1 lfo1'>frank_seng(frank_seng@163.com)</p>
<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.1.1
</span></span><![endif]>Readelf<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>和</span>objdump<o:p></o:p></h3>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>这两个工具可以用来查看可执行文件的</span>elf<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>相关信息，具体使用请参见</span>info readelf<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>和</span>info objdump <span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。</span><o:p></o:p></p>

<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.1.2
</span></span><![endif]>Memwatch<o:p></o:p></h3>

<p class=MsoNormalIndent>MEMWATCH <span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>支持</span>
ANSI C<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，它提供结果日志纪录，能检测双重释放（</span>double-free<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）、错误释放（</span>erroneous free<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）、没有释放的内存（</span>unfreed memory<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）、溢出和下溢等等。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>只要在代码中添加一个头文件：</span><o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;</span>#include
&quot;memwatch.h&quot;<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>，</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>并在</span> gcc <span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>语句中定义了</span> MEMWATCH <span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>之后：</span><o:p></o:p></p>

<p class=MsoNormalIndent>gcc -DMEMWATCH -DMW_STDIO test1.c memwatch.c -o test1<o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>就可以跟踪程序中的内存泄漏和错误了。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>当运行</span> test1 <span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>程序后，它会生成一个关于泄漏的内存的报告。</span>MEMWATCH <span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>显示真正导致问题的行。如果释放一个已经释放过的指针，它会指出来。对于没有释放的内存也一样。日志结尾部分显示统计信息，包括泄漏了多少内存，使用了多少内存，以及总共分配了多少内存。</span><o:p></o:p></p>

<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.1.3
</span></span><![endif]>Strace<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>和</span>ltrace<o:p></o:p></h3>

<p class=MsoNormalIndent>strace<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>用来跟踪一个进程的系统调用或信号产生的情况，而</span>
ltrace<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>用来跟踪进程调用库函数的情况。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>不仅可以从命令行调试一个新开始的程序，也可以把</span>strace<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>或</span>ltrace<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>绑定到一个已有的</span>PID<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>上来调试一个正在运行的程序。三个调试工具的基本使用方法大体相同，下面仅介绍三者共有，而且是最常用的三个命令行参数：</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo7'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>-f <span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>：除了跟踪当前进程外，还跟踪其子进程。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo7'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>-o file <span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>：将输出信息写到文件</span>file<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中，而不是显示到标准错误输出（</span>stderr<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>）。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo7'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>-p pid <span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>：绑定到一个由</span>pid<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>对应的正在运行的进程。此参数常用来调试后台进程。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>使用上述三个参数基本上就可以完成大多数调试任务了，下面举几个命令行例子：</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l9 level1 lfo6'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>truss -o ls.truss ls -al<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>：</span><span lang=ZH-CN> </span><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>跟踪</span>ls -al<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的运行，将输出信息写到文件</span>/tmp/ls.truss<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l9 level1 lfo6'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>strace -f -o vim.strace vim<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>：</span><span lang=ZH-CN> </span><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>跟踪</span>vim<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>及其子进程的运行，将输出信息写到文件</span>vim.strace<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l9 level1 lfo6'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>ltrace -p 234<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>：</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>跟踪一个</span>pid<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>为</span>234<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的已经在运行的进程。</span><o:p></o:p></p>

<h2 style='mso-list:l7 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>1.2 </span></span><![endif]><span lang=ZH-CN
style='font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial'>进程调试</span><o:p></o:p></h2>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>首先来看看什么是</span>core
dump<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，开发和使用</span>Unix<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>程序时，有时程序莫名其妙的</span>down<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>了，却没有任何的提示</span>(<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>有时候会提示</span>core dumped)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>这时候可以查看一下有没有形如</span>core.<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>进程号的文件生成，这个文件便是操作系统把程序</span>down<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>掉时的内存内容扔出来生成的，它可以做为调试程序的参考。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>如何使用</span>core<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件？</span><o:p></o:p></p>

<p class=MsoNormalIndent>gdb -c core<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的文件名</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>进去后输入</span>where<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>回车，就可以显示程序在哪一行当掉的，在哪个函数中。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>为什么没有</span>core<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件生成呢？有时候程序</span>down<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>了，但是</span>core<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件却没有生成</span>. core<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件的生成跟你当前系统的环境设置有关系，可以用下面的语句设置一下，然后再运行程序便成生成</span>core<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件：</span><o:p></o:p></p>

<p class=MsoNormalIndent>ulimit -c unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>core<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件生成的位置一般于运行程序的路径相同，文件名一般为</span>core.<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>进程号。</span><o:p></o:p></p>

<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.2.1
</span></span><![endif]>Example-1<o:p></o:p></h3>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>先看看我用的是个什么机器：</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ uname -a<o:p></o:p></p>

<p class=MsoNormalIndent>Linux dev 2.4.21-9.30AXsmp #1 SMP Wed May 26 23:37:09
EDT 2004 i686 i686 i386 GNU/Linux<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>再看看默认的一些参数，注意</span>core
file size<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是个</span>0<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，程序出错时不会产生</span>core<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件了。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ ulimit -a<o:p></o:p></p>

<p class=MsoNormalIndent>core file size (blocks, -c) 0<o:p></o:p></p>

<p class=MsoNormalIndent>data seg size (kbytes, -d) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>file size (blocks, -f) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>max locked memory (kbytes, -l) 4<o:p></o:p></p>

<p class=MsoNormalIndent>max memory size (kbytes, -m) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>open files (-n) 2048<o:p></o:p></p>

<p class=MsoNormalIndent>pipe size (512 bytes, -p) 8<o:p></o:p></p>

<p class=MsoNormalIndent>stack size (kbytes, -s) 10240<o:p></o:p></p>

<p class=MsoNormalIndent>cpu time (seconds, -t) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>max user processes (-u) 7168<o:p></o:p></p>

<p class=MsoNormalIndent>virtual memory (kbytes, -v) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>写个简单的程序，看看</span>core<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件是不是会被产生。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ more foo.c<o:p></o:p></p>

<p class=MsoNormalIndent>#include &lt;stdio.h&gt;<o:p></o:p></p>

<p class=MsoNormalIndent>static void sub(void);<o:p></o:p></p>

<p class=MsoNormalIndent>int main(void)<o:p></o:p></p>

<p class=MsoNormalIndent>{<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>sub();<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>return 0;<o:p></o:p></p>

<p class=MsoNormalIndent>}<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>static void sub(void)<o:p></o:p></p>

<p class=MsoNormalIndent>{<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>int *p = NULL;<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>/* derefernce a null pointer, expect core dump. */<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>printf(&quot;%d&quot;, *p);<o:p></o:p></p>

<p class=MsoNormalIndent>}<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ gcc -Wall -g foo.c<o:p></o:p></p>

<p class=MsoNormalIndent>$ ./a.out<o:p></o:p></p>

<p class=MsoNormalIndent>Segmentation fault<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ ls -l core.*<o:p></o:p></p>

<p class=MsoNormalIndent>ls: core.*: No such file or directory<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>没有找到</span>core<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件，我们改改</span>ulimit<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的设置，让它产生。</span>1024<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>是随便取的，要是</span>core<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件大于</span>1024<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>个块，就产生不出来了。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ ulimit -c 1024 <span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>（转者注</span>:
<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>使用</span>-c unlimited<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>不限制</span>core<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件大小）</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ ulimit -a<o:p></o:p></p>

<p class=MsoNormalIndent>core file size (blocks, -c) 1024<o:p></o:p></p>

<p class=MsoNormalIndent>data seg size (kbytes, -d) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>file size (blocks, -f) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>max locked memory (kbytes, -l) 4<o:p></o:p></p>

<p class=MsoNormalIndent>max memory size (kbytes, -m) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>open files (-n) 2048<o:p></o:p></p>

<p class=MsoNormalIndent>pipe size (512 bytes, -p) 8<o:p></o:p></p>

<p class=MsoNormalIndent>stack size (kbytes, -s) 10240<o:p></o:p></p>

<p class=MsoNormalIndent>cpu time (seconds, -t) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent>max user processes (-u) 7168<o:p></o:p></p>

<p class=MsoNormalIndent>virtual memory (kbytes, -v) unlimited<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ ./a.out<o:p></o:p></p>

<p class=MsoNormalIndent>Segmentation fault (core dumped)<o:p></o:p></p>

<p class=MsoNormalIndent>$ ls -l core.*<o:p></o:p></p>

<p class=MsoNormalIndent>-rw------- 1 uniware uniware 53248 Jun 30 17:10
core.9128<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>注意看上述的输出信息，多了个</span>(core
dumped)<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。确实产生了一个</span>core<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件，</span>9128<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>是该进程的</span>PID<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。我们用</span>GDB<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>来看看这个</span>core<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>$ gdb --core=core.9128<o:p></o:p></p>

<p class=MsoNormalIndent>GNU gdb Asianux (6.0post-0.20040223.17.1AX)<o:p></o:p></p>

<p class=MsoNormalIndent>Copyright 2004 Free Software Foundation, Inc.<o:p></o:p></p>

<p class=MsoNormalIndent>GDB is free software, covered by the GNU General
Public License, and you are<o:p></o:p></p>

<p class=MsoNormalIndent>welcome to change it and/or distribute copies of it
under certain conditions.<o:p></o:p></p>

<p class=MsoNormalIndent>Type &quot;show copying&quot; to see the conditions.<o:p></o:p></p>

<p class=MsoNormalIndent>There is absolutely no warranty for GDB. Type
&quot;show warranty&quot; for details.<o:p></o:p></p>

<p class=MsoNormalIndent>This GDB was configured as
&quot;i386-asianux-linux-gnu&quot;.<o:p></o:p></p>

<p class=MsoNormalIndent>Core was generated by `./a.out'.<o:p></o:p></p>

<p class=MsoNormalIndent>Program terminated with signal 11, Segmentation fault.<o:p></o:p></p>

<p class=MsoNormalIndent>#0 0x08048373 in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent>(gdb) bt<o:p></o:p></p>

<p class=MsoNormalIndent>#0 0x08048373 in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent>#1 0xbfffd8f8 in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent>#2 0x0804839e in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent>#3 0xb74cc6b3 in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent>#4 0x00000000 in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>此时用</span>bt<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>看不到</span>backtrace<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，也就是调用堆栈，原来</span>GDB<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>还不知道符号信息在哪里。我们告诉它一下：</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>(gdb) file ./a.out<o:p></o:p></p>

<p class=MsoNormalIndent>Reading symbols from ./a.out...done.<o:p></o:p></p>

<p class=MsoNormalIndent>Using host libthread_db library
&quot;/lib/tls/libthread_db.so.1&quot;.<o:p></o:p></p>

<p class=MsoNormalIndent>(gdb) bt<o:p></o:p></p>

<p class=MsoNormalIndent>#0 0x08048373 in sub () at foo.c:17<o:p></o:p></p>

<p class=MsoNormalIndent>#1 0x08048359 in main () at foo.c:8<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>此时</span>backtrace<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>出来了。</span><o:p></o:p></p>

<p class=MsoNormalIndent>(gdb) l<o:p></o:p></p>

<p class=MsoNormalIndent>8<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sub();<o:p></o:p></p>

<p class=MsoNormalIndent>9<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return 0;<o:p></o:p></p>

<p class=MsoNormalIndent>10<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></p>

<p class=MsoNormalIndent>11<o:p></o:p></p>

<p class=MsoNormalIndent>12<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>static void sub(void)<o:p></o:p></p>

<p class=MsoNormalIndent>13<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></p>

<p class=MsoNormalIndent>14<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>int *p = NULL;<o:p></o:p></p>

<p class=MsoNormalIndent>15<o:p></o:p></p>

<p class=MsoNormalIndent>16<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* derefernce a null pointer, expect core dump. */<o:p></o:p></p>

<p class=MsoNormalIndent>17<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>printf(&quot;%d&quot;, *p);<o:p></o:p></p>

<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.2.2
</span></span><![endif]>Example -2<o:p></o:p></h3>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>如果上述例子中的执行程序</span>a.out<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>编译时没有添加调试信息，那么怎么获取得出问题出在哪一行呢？</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>假设源程序为：</span><o:p></o:p></p>

<p class=MsoNormalIndent>#include &quot;stdio.h&quot;<o:p></o:p></p>

<p class=MsoNormalIndent>int abc()<o:p></o:p></p>

<p class=MsoNormalIndent>{<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int*
p = NULL;<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>printf(&quot;%d&quot;, *p);<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return 0;<o:p></o:p></p>

<p class=MsoNormalIndent>}<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;</span><o:p></o:p></p>

<p class=MsoNormalIndent>int main()<o:p></o:p></p>

<p class=MsoNormalIndent>{<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>abc();<o:p></o:p></p>

<p class=MsoNormalIndent>}<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>通过</span>gdb -c
core.12345<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>然后</span>where<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>显示：</span><o:p></o:p></p>

<p class=MsoNormalIndent>#0<span style='mso-spacerun:yes'>&nbsp;
</span>0x0804838c in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent>#1<span style='mso-spacerun:yes'>&nbsp;
</span>0x00000000 in ?? ()<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>我们得知问题出在</span>0x0804838c<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>那一行，随后我们用</span>objdump CD test &gt;
tmp<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>来反汇编该进程：</span><o:p></o:p></p>

<p class=MsoNormalIndent>0804837c &lt;abc&gt;:<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>804837c:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>55<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>push<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>%ebp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>804837d:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;</span>89 e5<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>mov<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>%esp,%ebp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>804837f:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>83 ec
18<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sub<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$0x18,%esp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>8048382:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c7 45 fc
00 00 00 00<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>movl<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>$0x0,0xfffffffc(%ebp)<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>8048389:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>8b 45
fc<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>mov<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>0xfffffffc(%ebp),%eax<o:p></o:p></p>

<p class=MsoNormalIndent><span style='color:red'><span
style='mso-spacerun:yes'>&nbsp;</span>804838c:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>8b 00<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>mov<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>(%eax),%eax<o:p></o:p></span></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>804838e:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>83 ec
08<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sub<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$0x8,%esp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>8048391:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>50<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>push<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>%eax<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>8048392:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>68 70 84
04 08<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>push<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>$0x8048470<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>8048397:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>e8 1c ff
ff ff<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>call<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>80482b8
&lt;printf@plt&gt;<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>804839c:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>83 c4
10<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>add<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$0x10,%esp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>804839f:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b8 00 00
00 00<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>mov<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$0x0,%eax<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483a4:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c9<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>leave<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483a5:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c3<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ret<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;</span><o:p></o:p></p>

<p class=MsoNormalIndent>080483a6 &lt;main&gt;:<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483a6:<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>55<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>push<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>%ebp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483a7:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>89 e5<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>mov<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>%esp,%ebp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483a9:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>83 ec
08<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sub<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$0x8,%esp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483ac:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>83 e4
f0<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>and<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>$0xfffffff0,%esp<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;</span>80483af:<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b8 00 00
00 00<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;</span>mov<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>$0x0,%eax<o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>可见问题出在了红色的那一行，我们便可以初步定位问题出在什么地方。如果是某个库的问题，还可以逐步定位到某个库中去。</span><o:p></o:p></p>

<h2 style='mso-list:l7 level2 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:Arial;mso-bidi-font-family:Arial'><span
style='mso-list:Ignore'>1.3 </span></span><![endif]><span lang=ZH-CN
style='font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial'>内核调试</span><o:p></o:p></h2>

<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.3.1
</span></span><![endif]>System.map<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件的作用</span><o:p></o:p></h3>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>有关</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件的信息好象很缺乏。其实它一点也不神秘，并且在整个事情当中它并不象看上去那么得重要。但是由于缺乏必要的文档说明，使其显得比较神秘。它就象耳垂，我们每个人都有，但却不知道是干什么用的。本网页就是用来说明这个问题的。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>注意，我并不会是百分之一百正确的。例如，一个系统很可能没有</span>/proc<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件系统支持，但是大多数系统肯定有。这里我假定你是“随大流的”，并有一个典型配置的系统。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>某些有关内核出错</span>(oops)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的阐述来自于</span>Alessandro Rubini<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的“</span>Linux<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>设备驱动程序”</span><span lang=ZH-CN> </span><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>一书，我是从其中学到大部分内核编程知识的。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>什么是符号</span>(Symbols)?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在编程中，一个符号</span>(symbol)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是一个程序的创建块：它是一个变量名或一个函数名。</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>正如你自己编制的程序一样，内核具有各种符号也是不应该感到惊奇的。当然，区别在于内核是一非常复杂的代码块，并且含有许多、许多的全局符号。</span>
<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>内核符号表</span>(Kernel Symbol Table)</b><b
style='mso-bidi-font-weight:normal'><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>是什么东西</span>?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>内核并不使用符号名。它是通过变量或函数的地址</span>(<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>指针</span>)<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>来使用变量或函数的，而</span><span lang=ZH-CN> </span><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>不是使用</span>size_t BytesRead<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，内核更喜欢使用</span>(<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>例如</span>)c0343f20<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>来引用</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>这个变量。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>而另一方面，人们并不喜欢象</span>c0343f20<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>这样的名字。我们跟喜欢使用象</span> size_t BytesRead<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>这样的表示。通常，这并不会带来什么问题。内核主要</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>是用</span>C<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>语言写成的，所以在我们编程时编译器</span>/<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>连接程序允许我们使用符号名，并且使</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>内核在运行时使用地址表示。这样大家都满意了。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>然而，存在一种情况，此时我们需要知道一个符号的地址（或者一个地址对应的</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>符号）。这是通过符号表来做到的，与</span>gdb<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>能够从一个地址给出函数名（或者给出一个</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>函数名的地址）的情况很相似。符号表是所有符号及其对应地址的一个列表。这里是</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>一个符号表例子：</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c03441a0 B dmi_broken<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c03441a4 B is_sony_vaio_laptop<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c03441c0 b dmi_ident<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c0344200 b pci_bios_present<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c0344204 b pirq_table<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c0344208 b pirq_router<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c034420c b pirq_router_dev<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c0344220 b ascii_buffer<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;mso-para-margin-left:2.0gd;
text-indent:0cm;mso-char-indent-count:0'>c0344224 b ascii_buf_bytes<o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>你可以看出名称为</span>dmi_broken<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的变量位于内核地址</span>c03441a0<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>处。</span> <o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>什么是</span>System.map</b><b
style='mso-bidi-font-weight:normal'><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件</span>?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>有两个文件是用作符号表的</span>:<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>/proc/ksyms<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>System.map <o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>这里，你现在可以知道</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件是干什么用的了。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>每当你编译一个新内核时，各种符号名的地址定会变化。</span><o:p></o:p></p>

<p class=MsoNormalIndent>/proc/ksyms <span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>是一个</span>
&quot;proc<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件</span>&quot; <span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>并且是在内核启动时创建的。实际上</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>它不是一个真实的文件；它只是内核数据的简单表示形式，呈现出象一个磁盘文件似的。如果你不相信我，那么就试试找出</span>/proc/ksyms<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的文件大小来。因此，</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>对于当前运行的内核来说，它总是正确的</span>..<o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>然而，</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>却是文件系统上的一个真实文件。当你编译一个新内核时，你原来的</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中的符号信息就不正确了。随着每次内核的编译，就会产生一个新的</span>
System.map<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件，并且需要用该文件取代原来的文件。</span> <o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>什么是一个</span>Oops?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在自己编制的程序中最常见的出错情况是什么</span>?<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是段出错</span>(segfault)<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，信号</span>11<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>。</span><o:p></o:p></p>

<p class=MsoNormalIndent>Linux <span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>内核中最常见的</span>bug<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是什么？也是段出错。除此，正如你想象的那样，段出错的问题是非常复杂的，而且也是非常严重的。当内核引用了一个无效指针时，并不称其为段出错</span>
-- <span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>而被称为</span>&quot;oops&quot;<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。一个</span>oops<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>表明内核存在一个</span>bug<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>，应该总是提出报告并修正该</span>bug<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>请注意，一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>与一个段出错并不是一回事。你的程序并不能从段出错中恢复过来，当出现一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>时，并不意味着内核肯定处于不稳定的状态。</span>Linux<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>内核是非常</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>健壮的；一个</span>oops<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>可能仅杀死了当前进程，并使余下的内核处于一个良好的、稳定的状态。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>并非是内核死循环</span>(panic)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。在内核调用了</span>panic()<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>函数后，内核就不能继续运行了；此时系统就处于停顿状态并且必须重启。如果系统中关键部分遭到破坏</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>那么一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>也可能会导致内核进入死循环</span>(panic)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。例如，设备驱动程序中出现的</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>就几乎不会导致系统进行死循环。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>当出现一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>时，系统就会显示出用于调试问题的相关信息，比如所有</span>CPU<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>寄存器</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中的内容以及页描述符表的位置等，尤其会象下面那样打印出</span>EIP(<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>指令指针</span>)<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的内容：</span><o:p></o:p></p>

<p class=MsoNormalIndent>EIP: 0010:[&lt;00000000&gt;]<o:p></o:p></p>

<p class=MsoNormalIndent>Call Trace: []<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>一个</span>Oops</b><b style='mso-bidi-font-weight:
normal'><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>与</span>System.map</b><b
style='mso-bidi-font-weight:normal'><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件有什么关系呢</span>?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>我想你也会认为</span>EIP<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>和</span>Call Trace<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>所给出的信息并不多，但是重要的是，对于内核开发人员来说这些信息也是不够的。由于一个符号并没有固定的地址，</span>
c010b860<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>可以指向任何地方。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>为了帮助我们使用</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>含糊的输出，</span>Linux<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>使用了一个称为</span>klogd(<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>内核日志后台程序</span>)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的后台程序，</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>会截取内核</span>oops<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>并且使用</span>syslogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>将其记录下来，并将某些象</span>c010b860 <span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的信息转换成我们可以识别和使用的信息。换句话说，</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是一个内核消息记录器</span>(logger)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，</span><span lang=ZH-CN> </span><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>它可以进行名字</span>-<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>地址之间的解析。一旦</span>klogd<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>开始转换内核消息，它就使用手头的记录器，</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>将整个系统的消息记录下来，通常是使用</span>syslogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>记录器。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>为了进行名字</span>-<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>地址解析，</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>就要用到</span>System.map<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件。我想你现在</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>知道一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>与</span>System.map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的关系了。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>深入说明：</span><span
lang=ZH-CN> </span><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>其实</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>会执行两类地址解析活动。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo4'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>静态转换，将使用</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo4'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>动态转换，该方式用于可加载模块，不使用</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，因此与本讨论没有关系，但我仍然对其加以简单说明。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent>Klogd<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>动态转换：假设你加载了一个产生</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的内核模块。于是就会产生一个</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>消息，</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>就会截获它，并发现该</span>oops<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>发生在</span>d00cf810<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>处。由于该地址属于动态加载模块，因此在</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件中没有对应条目。</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>将会在其中寻找并会毫无所获，于是断定是一个可加载模块产生了</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。此时</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>就会向内核查询该可加载模块输出的符号。即使该模块的编制者没有输出其符号，</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>也起码会知道是哪个模块产生了</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，这总比对一个</span>oops<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>一无所知要好。</span> <o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>还有其它的软件会使用</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，我将在后面作一说明。</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'>System.map</b><b
style='mso-bidi-font-weight:normal'><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>应该位于什么地方</span>?<o:p></o:p></b></p>

<p class=MsoNormalIndent>System.map<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>应该位于使用它的软件能够寻找到的地方，也就是说，</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>会在什么地方寻找它。在系统启动时，如果没有以一个参数的形式为</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>给出</span>System.map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>的位置，则</span>klogd<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>将会在三个地方搜寻</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。依次为：</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo5'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>/boot/System.map<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo5'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>/System.map<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo5'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]>/usr/src/linux/System.map <o:p></o:p></p>

<p class=MsoNormalIndent>System.map <span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>同样也含有版本信息，并且</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>能够智能化地搜索正确的</span>map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件。例如，假设你正在运行内核</span>2.4.18<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>并且相应的</span>map<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件位于</span>/boot/System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>。现在你在目录</span>/usr/src/linux<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中编译一个新内核</span>2.5.1<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>。在编译期间，文件</span> /usr/src/linux/System.map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>就会被创建。当你启动该新内核时，</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>将首先查询</span> /boot/System.map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，确认它不是启动内核正确的</span>map<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件，就会查询</span>
/usr/src/linux/System.map, <span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>确定该文件是启动内核正确的</span>map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件并开始读取其中的符号信息。</span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>几个注意点：</span><o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo5'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在</span>2.5.x<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>系列内核的某个版本，</span>Linux<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>内核会开始</span>untar<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>成</span>linux-version<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>，而非只是</span>linux
(<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>请举手表决</span> -- <span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>有多少人一直等待着这样做</span>?)<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>。我不知道</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是否已经修改为在</span>/usr/src/linux-version/System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>中搜索。</span>TODO<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>：查看</span>klogd<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>源代码。</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo5'><![if !supportLists]><span
style='font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings'><span style='mso-list:Ignore'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>在线手册上对此也没有完整描述，请看：</span><br>
# strace -f /sbin/klogd | grep 'System.map'<br>
31208 open(&quot;/boot/System.map-2.4.18&quot;, O_RDONLY|O_LARGEFILE) = 2<o:p></o:p></p>

<p class=MsoNormalIndent><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>显然，不仅</span>klogd<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>在三个搜索目录中寻找正确版本的</span>map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件，</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>也同样知道寻找名字为</span> &quot;System.map&quot; <span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>后加</span>&quot;-<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>内核版本</span>&quot;<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，象</span> System.map-2.4.18. <span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>这是</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>未公开的特性。</span> <o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>有一些驱动程序将使用</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>来解析符号</span>(<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>因为它们与内核头连接而非</span>glibc<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>库等</span>)<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，如果没有</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件，它们将不能正确地工作。这与一个模块由于内核版本不匹配而没有得到加载是两码事。模块加载是与内核版本有关，而与即使是同一版本内核其符号表也会变化的编译后内核无关。</span>
<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>还有谁使用了</span>System.map?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>不要认为</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件仅对内核</span>oops<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>有用。尽管内核本身实际上不使用</span>System.map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>，其它程序，象</span>klogd<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>，</span>lsof<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，</span><o:p></o:p></p>

<p class=MsoNormalIndent>satan# strace lsof 2&gt;&amp;1 1&gt; /dev/null | grep
System<o:p></o:p></p>

<p class=MsoNormalIndent>readlink(&quot;/proc/22711/fd/4&quot;,
&quot;/boot/System.map-2.4.18&quot;, 4095) = 23<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span><span style='mso-tab-count:1'>&nbsp; </span><o:p></o:p></p>

<p class=MsoNormalIndent>ps,<o:p></o:p></p>

<p class=MsoNormalIndent>satan# strace ps 2&gt;&amp;1 1&gt; /dev/null | grep
System<o:p></o:p></p>

<p class=MsoNormalIndent>open(&quot;/boot/System.map-2.4.18&quot;,
O_RDONLY|O_NONBLOCK|O_NOCTTY) = 6<o:p></o:p></p>

<p class=MsoNormalIndent><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span><span style='mso-tab-count:1'>&nbsp; </span><o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>以及其它许多软件，象</span>dosemu<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，需要有一个正确的</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件。</span> <o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>如果我没有一个好的</span>System.map</b><b
style='mso-bidi-font-weight:normal'><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>，会发生什么问题</span>?<o:p></o:p></b></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>假设你在同一台机器上有多个内核。则每个内核都需要一个独立的</span>
System.map<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件！如果所启动的内核没有对应的</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件，那么你将定期地看到这样一条信息：</span><o:p></o:p></p>

<p class=MsoNormalIndent>System.map does not match actual kernel (System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>与实际内核不匹配</span>)<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>不是一个致命错误，但是每当你执行</span>ps
ax<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>时都会恼人地出现。有些软件，比如</span>dosemu<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，可能不会正常工作。最后，当出现一个内核</span>oops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>时，</span>klogd<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>或</span>ksymoops<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>的输出可能会不可靠。我如何对上述情况进行补救</span>?<o:p></o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>方法是将你所有的</span>System.map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件放在目录</span>/boot<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>下，并使用内核版本号重新对它们进行命名。假设你有以下多个内核：</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'>/boot/vmlinuz-2.2.14<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'>/boot/vmlinuz-2.2.13 <o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>那么，只需对应各内核版本对</span>map<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>文件进行改名，并放在</span>/boot<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>下，如：</span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'>/boot/System.map-2.2.14<o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'>/boot/System.map-2.2.13<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>如果你有同一个内核的两个拷贝怎么办？例如：</span><o:p></o:p></p>

<p class=MsoNormalIndent>/boot/vmlinuz-2.2.14<o:p></o:p></p>

<p class=MsoNormalIndent>/boot/vmlinuz-2.2.14.nosound <o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>最佳解决方案将是所有软件能够查找下列文件：</span><o:p></o:p></p>

<p class=MsoNormalIndent>/boot/System.map-2.2.14<o:p></o:p></p>

<p class=MsoNormalIndent>/boot/System.map-2.2.14.nosound<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>但是说实在的，我并不知道这是否是最佳情况。我曾经见到搜寻</span>&quot;System.map-kernelversion&quot;<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>，但是对于搜索</span>&quot;System.map-kernelversion.othertext&quot;<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>的情况呢</span>? <span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>我不太清楚。此时我所能做的就是利用这样一个事实：</span>/usr/src/linux<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>是标准</span>map<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>文件的搜索路径，所以你的</span>map<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>文件将放在：</span><o:p></o:p></p>

<p class=MsoNormalIndent>/boot/System.map-2.2.14<o:p></o:p></p>

<p class=MsoNormalIndent>/usr/src/linux/System.map (<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>对于</span>nosound<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>版本</span>)
<o:p></o:p></p>

<p class=MsoNormalIndent><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>你也可以使用符号连接：</span><o:p></o:p></p>

<p class=MsoNormalIndent>System.map-2.2.14<o:p></o:p></p>

<p class=MsoNormalIndent>System.map-2.2.14.sound<o:p></o:p></p>

<p class=MsoNormalIndent>System.map -&gt; System.map-2.2.14.sound<o:p></o:p></p>

<h3 style='mso-list:l7 level3 lfo1'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.3.2
</span></span><![endif]><span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman"'>例解</span>Linux
Kernel Debug(ksymoops)<o:p></o:p></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>结合自己的实践和网上的文章</span>,<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'>介绍手工调试内核</span>bug<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>的通用方法。</span><o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo8'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>步骤</span><o:p></o:p></b></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l8 level1 lfo9'><![if !supportLists]><span
style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>A.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Collect oops output, System.map, /proc/ksyms,
vmlinux, /proc/modules<o:p></o:p></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l8 level1 lfo9'><![if !supportLists]><span
style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>B.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Use ksymoops to interpret oops<br>
Instructions is /usr/src/linux/Documentation/oops-tracing.txt<br>
Ksymoops(8) man page (http://www.die.net/doc/linux/man/man8/ksymoops.8.html)<o:p></o:p></p>

<p class=MsoNormal><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><o:p></o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo8'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>简单分析</span><o:p></o:p></b></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l2 level1 lfo10'><![if !supportLists]><span
style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>A.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Ksymoops disassembles the code section<o:p></o:p></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l2 level1 lfo10'><![if !supportLists]><span
style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>B.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The EIP points to the failing instruction<o:p></o:p></p>

<p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt;mso-list:l2 level1 lfo10'><![if !supportLists]><span
style='mso-fareast-font-family:Calibri;mso-bidi-font-family:Calibri'><span
style='mso-list:Ignore'>C.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The call trace section shows how you got there<br>
Caution: Noise on the stack?<o:p></o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo8'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman"'>找到出错代码</span><o:p></o:p></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormalIndent style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo8'><![if !supportLists]><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'>oops </b><b
style='mso-bidi-font-weight:normal'><span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'>例子</span><o:p></o:p></b></p>

<p class=MsoNormal style='text-indent:21.0pt'>C Source Code<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>int test_read_proc(char *buf,
char **start, off_t offset, int count, int *eof, void*data)<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>{<o:p></o:p></p>

<p class=MsoNormal style='margin-left:10.5pt;mso-para-margin-left:1.0gd;
text-indent:21.0pt'>int *ptr; ptr=0; printk(&quot;%d\n&quot;,*ptr);<o:p></o:p></p>

<p class=MsoNormal style='margin-left:10.5pt;mso-para-margin-left:1.0gd;
text-indent:21.0pt'>return 0;<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>}<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>写个内核模块程序</span>test.c<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'>，使用上面的代码来在</span>/proc/<span lang=ZH-CN style='font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>下创建文件。</span><o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>读去文件的时候会调用这个函数，从而产生下面的</span>oops:<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Unable to handle kernel NULL
pointer dereference at virtual address 00000000<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483069 &lt;---EIP (Instruction
Pointer or Program Counter)<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>*pde = 00000000<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Oops: 0000<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>CPU:<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>0<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>EIP: 0010:[ipv6:__insmod_ipv6_O/lib/modules/2.4.10-4GB/kernel/net/ipv6<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ipv6+-472895383/96]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>EFLAGS: 00010283<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>eax: db591f98 ebx: de2aeb60 ecx:
de2aeb80 edx: c2483060<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>esi: 00000c00 edi: d41d0000 ebp:
db591f5c esp: db591f4c<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>ds: 0018 es: 0018 ss: 0018<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Process cat (pid: 1986, stackpage=db591000)<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Stack: c012ca65 000001f0 ffffffea
00000000 00001000 c014e878 d41d0000 db591f98<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>00000000
00000c00 db591f94 00000000 de2aeb60 ffffffea 00000000 00001000<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>deae6f40
00000000 00000000 00000000 c01324d6 de2aeb60 0804db50 00001000<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Call Trace:
[__alloc_pages+65/452] [proc_file_read+204/420] [sys_read+146/200]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>[system_call+51/64]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Code:a1 00 00 00 00 50 68 10 31
48 c2 e8 67 38 c9 fd 31 c0 89 ec<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>使用</span>ksysmoops<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'>来获取内核函数地址</span>,<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>（也可以读取</span>/proc/kallsym<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'>或者</span>/proc/ksyms<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>文件察看</span>export<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>出来的函数地址</span>)<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483060 test_read_proc [test]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483000
__insmod_test_O/home/ross/prog/test.o_M3 [test]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483110
__insmod_test_S.rodata_L68 [test]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483060
__insmod_test_S.text_L176 [test]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483080 foo [test]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>de79c340 ip6_frag_mem [ipv6]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>de783d00 addrconf_del_ifaddr
[ipv6]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>de78a5bc ipv6_packet_init [ipv6]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>de78fd70 ipv6_sock_mc_drop [ipv6]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>de781ee4 ip6_call_ra_chain [ipv6]<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>可以看出</span>EIP<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'>的</span>c2483069<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>是在</span>[test]<span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>模块的</span>test_read_proc
<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>函数中。</span><o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>(EIP) - (Base addr of routine)<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>c2483069 - c2483060 = 9<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>下一步反汇编</span>test.o,
<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri'>找到偏移量为</span>9<span lang=ZH-CN style='font-family:
宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>行即位代码出错行。</span><o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=ZH-CN
style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri'>找到出错代码</span>,<span
lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri'>使用</span>objdump<span lang=ZH-CN style='font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri'>：</span><o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Excerpt from &quot;objdump -D
test.o &quot;<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>test.o:<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>file<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>format elf32-i386<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>Disassembly of section .text:<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>00000000 &lt;test_read_proc&gt;:<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>0: 55 push %ebp<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>1: 89 e5 mov %esp,%ebp<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>3: 83 ec 08 sub $0x8,%esp<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>6: 83 c4 f8 add $0xfffffff8,%esp<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>9: a1 00 00 00 00 mov 0x0,%eax<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>e: 50 push %eax<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'>f: 68 00 00 00 00 push $0x0<o:p></o:p></p>

<p class=MsoNormal style='text-indent:21.0pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
